{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/jyotish/engine.ts"],"sourcesContent":["// ORI.CULT - Jyotish Timing Engine\r\n// Calculates daily astrological context for content timing\r\n\r\nimport { \r\n  JyotishData, \r\n  Nakshatra, \r\n  Rashi, \r\n  Transit, \r\n  Planet, \r\n  AstroMood,\r\n  ContentArchetype \r\n} from '@/types';\r\nimport { \r\n  calculateMoonNakshatra, \r\n  getAstroMoodFromNakshatra,\r\n  NakshatraData \r\n} from '@/data/nakshatras';\r\n\r\n// Rashis in order\r\nconst RASHIS: Rashi[] = [\r\n  'Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo',\r\n  'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'\r\n];\r\n\r\n// Planets\r\nconst PLANETS: Planet[] = ['Sun', 'Moon', 'Mars', 'Mercury', 'Jupiter', 'Venus', 'Saturn', 'Rahu', 'Ketu'];\r\n\r\n// Calculate which house Moon is in based on natal chart\r\n// For demo purposes, we'll use a simplified calculation\r\nexport function calculateMoonHouse(date: Date, natalLagna?: Rashi): number {\r\n  // Moon moves through a house roughly every 2.5 days\r\n  const dayOfYear = Math.floor((date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));\r\n  const moonPosition = dayOfYear % 12;\r\n  \r\n  if (!natalLagna) {\r\n    // Without natal chart, just return calculated position + 1\r\n    return moonPosition + 1;\r\n  }\r\n  \r\n  // Calculate house based on lagna\r\n  const lagnaIndex = RASHIS.indexOf(natalLagna);\r\n  const house = ((moonPosition - lagnaIndex + 12) % 12) + 1;\r\n  return house;\r\n}\r\n\r\n// Get Moon sign\r\nexport function calculateMoonSign(date: Date): Rashi {\r\n  const dayOfYear = Math.floor((date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));\r\n  const moonPosition = dayOfYear % 12;\r\n  return RASHIS[moonPosition];\r\n}\r\n\r\n// Generate major transits for the day\r\n// This is a simplified version - real implementation would use Swiss Ephemeris\r\nexport function calculateTransits(date: Date): Transit[] {\r\n  const transits: Transit[] = [];\r\n  \r\n  // Sun transit (roughly monthly)\r\n  const month = date.getMonth();\r\n  const sunSign = RASHIS[month % 12];\r\n  \r\n  // Check for significant transits\r\n  // Mercury retrograde periods (simplified)\r\n  const dayOfYear = Math.floor((date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));\r\n  \r\n  // Add some \"major\" transits based on date hash\r\n  if (dayOfYear % 88 === 0) {\r\n    transits.push({\r\n      planet: 'Mercury',\r\n      fromSign: calculateMoonSign(new Date(date.getTime() - 86400000)),\r\n      toSign: calculateMoonSign(date),\r\n      exactDate: date,\r\n      aspectingNatal: false\r\n    });\r\n  }\r\n  \r\n  // Saturn transits (slower, more significant)\r\n  if (dayOfYear % 29 === 0) {\r\n    transits.push({\r\n      planet: 'Saturn',\r\n      fromSign: 'Aquarius',\r\n      toSign: 'Pisces',\r\n      aspectingNatal: dayOfYear % 7 === 0\r\n    });\r\n  }\r\n  \r\n  // Jupiter transits (yearly-ish)\r\n  if (dayOfYear % 365 === 0) {\r\n    transits.push({\r\n      planet: 'Jupiter',\r\n      fromSign: 'Taurus',\r\n      toSign: 'Gemini',\r\n      aspectingNatal: true\r\n    });\r\n  }\r\n  \r\n  return transits;\r\n}\r\n\r\n// Get content recommendations based on Moon house\r\nexport function getHouseRecommendations(house: number): ContentArchetype[] {\r\n  const houseThemes: Record<number, ContentArchetype[]> = {\r\n    1: ['individual_vs_collective', 'bold_experiment'], // Self, identity\r\n    2: ['building', 'harmony'], // Resources, values\r\n    3: ['communicative', 'meme'], // Communication, siblings\r\n    4: ['rest_reflect', 'behind_scenes'], // Home, roots\r\n    5: ['creative', 'sermon'], // Creativity, children\r\n    6: ['behind_scenes', 'building'], // Work, health, service\r\n    7: ['individual_vs_collective', 'partnerships'], // Relationships\r\n    8: ['shadow_work', 'deep_psychological', 'transformative'], // Transformation, secrets\r\n    9: ['sermon', 'tech_vs_tradition'], // Higher learning, philosophy\r\n    10: ['public_visible', 'building'], // Career, public image\r\n    11: ['community', 'individual_vs_collective'], // Friends, gains\r\n    12: ['rest_reflect', 'shadow_work', 'deep_psychological'] // Retreat, unconscious\r\n  };\r\n  \r\n  return houseThemes[house] || ['communicative'];\r\n}\r\n\r\n// Main function to get daily Jyotish context\r\nexport function getDailyJyotishContext(date: Date = new Date(), natalChart?: any): JyotishData {\r\n  const nakshatra = calculateMoonNakshatra(date);\r\n  const moonSign = calculateMoonSign(date);\r\n  const moonHouse = calculateMoonHouse(date, natalChart?.lagna);\r\n  const transits = calculateTransits(date);\r\n  const mood = getAstroMoodFromNakshatra(nakshatra);\r\n  \r\n  // Combine nakshatra and house recommendations\r\n  const houseRecs = getHouseRecommendations(moonHouse);\r\n  const nakshatraRecs = nakshatra.recommendedContent;\r\n  \r\n  // Merge and deduplicate\r\n  const recommendations = Array.from(new Set([...nakshatraRecs, ...houseRecs]));\r\n  \r\n  return {\r\n    date,\r\n    moonNakshatra: nakshatra,\r\n    moonSign,\r\n    moonHouse,\r\n    majorTransits: transits,\r\n    mood,\r\n    contentRecommendations: recommendations\r\n  };\r\n}\r\n\r\n// Get a ritual suggestion based on astro context\r\nexport function getAstroRitual(jyotish: JyotishData): string {\r\n  const { moonNakshatra, moonHouse, mood } = jyotish;\r\n  \r\n  const rituals: Record<AstroMood, string[]> = {\r\n    'bold_experiment': [\r\n      `With Moon in ${moonNakshatra.name}, try something you've never done before.`,\r\n      `Today favors new starts. Begin that project you've been procrastinating on.`,\r\n      `Experiment with a new format or platform.`\r\n    ],\r\n    'beauty_polish': [\r\n      `Moon in ${moonNakshatra.name} asks you to refine something existing. Polish it.`,\r\n      `Invest time in aesthetics today. Make the beautiful also functional.`,\r\n      `Review your brand visuals. What needs refreshing?`\r\n    ],\r\n    'deep_psychological': [\r\n      `With ${moonNakshatra.name} energy, explore the shadow. Write what you usually avoid.`,\r\n      `Today favors depth over breadth. Go deep on one topic.`,\r\n      `Write about your fears or failures. Witness them.`\r\n    ],\r\n    'communicative': [\r\n      `Moon in the ${moonHouse}th house emphasizes dialogue. Engage with your community today.`,\r\n      `Reply to DMs. Have conversations. Listen more than you speak.`,\r\n      `Cross-pollinate ideas between different groups you're part of.`\r\n    ],\r\n    'behind_scenes': [\r\n      `Moon in the ${moonHouse}th house suggests invisible work. Build systems, not content.`,\r\n      `Organize your files. Update your templates. The world won't see this, but it matters.`,\r\n      `Take a break from posting. Do maintenance work.`\r\n    ],\r\n    'public_visible': [\r\n      `Moon in the ${moonHouse}th house calls for visibility. Post your boldest idea.`,\r\n      `Today favors the spotlight. Share something significant.`,\r\n      `Make a declaration. Claim your space.`\r\n    ],\r\n    'rest_reflect': [\r\n      `With ${moonNakshatra.name} energy, rest is productive. Do less.`,\r\n      `Reflect on the past month. What patterns do you see?`,\r\n      `Journal privately. Not everything needs to be content.`\r\n    ],\r\n    'transformative': [\r\n      `Moon in ${moonNakshatra.name} signals change. Let something die to make space.`,\r\n      `Burn (delete) old content that no longer represents you.`,\r\n      `Transform one habit today. Small shifts compound.`\r\n    ],\r\n    'building': [\r\n      `Moon in ${moonNakshatra.name} supports construction. Build something that lasts.`,\r\n      `Focus on infrastructure today. What systems need strengthening?`,\r\n      `Invest in foundational work. The tower needs a deep base.`\r\n    ]\r\n  };\r\n  \r\n  const options = rituals[mood] || rituals['communicative'];\r\n  return options[Math.floor(Math.random() * options.length)];\r\n}\r\n\r\n// Format Jyotish data for display\r\nexport function formatJyotishForDisplay(jyotish: JyotishData): string {\r\n  const { moonNakshatra, moonSign, moonHouse, mood } = jyotish;\r\n  \r\n  return `üåô Moon: ${moonSign} in ${moonNakshatra.name} (${moonHouse}th house)\r\n‚ö° Energy: ${moonNakshatra.energy} | Ruled by ${moonNakshatra.ruler}\r\nüé≠ Mood: ${mood.replace('_', ' ')}\r\nüèõÔ∏è Deity: ${moonNakshatra.deity}`;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/agents/council.ts"],"sourcesContent":["// ORI.CULT - The Council Debate System\r\n// Simulates multi-agent debate between Orisha-inspired personas\r\n\r\nimport { \r\n  OrishaName, \r\n  AgentOpinion, \r\n  CouncilSession, \r\n  DigitalOdu, \r\n  JyotishData,\r\n  DoctrineFile,\r\n  AuguryData \r\n} from '@/types';\r\nimport { ORISHA_PERSONAS } from '@/data/orishas';\r\n\r\n// Generate an opinion for a specific Orisha\r\nexport function generateAgentOpinion(\r\n  orisha: OrishaName,\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  doctrine: DoctrineFile,\r\n  augury?: AuguryData\r\n): AgentOpinion {\r\n  const persona = ORISHA_PERSONAS[orisha];\r\n  const timestamp = new Date();\r\n  \r\n  // Base confidence varies by orisha\r\n  const baseConfidence = {\r\n    'ORUNMILA': 0.9,\r\n    'OGUN': 0.8,\r\n    'OSHUN': 0.75,\r\n    'SHANGO': 0.85,\r\n    'ESU': 0.7\r\n  }[orisha];\r\n  \r\n  // Adjust based on affinity with today's Od√π\r\n  const hasAffinity = odu.orishaAffinity.includes(orisha);\r\n  const confidence = hasAffinity \r\n    ? Math.min(1, baseConfidence + 0.1) \r\n    : baseConfidence;\r\n  \r\n  // Generate opinion based on Orisha domain\r\n  const opinion = generateOrishaSpecificOpinion(orisha, odu, jyotish, augury);\r\n  \r\n  // Generate suggested actions\r\n  const suggestedActions = generateSuggestedActions(orisha, odu, jyotish);\r\n  \r\n  // Determine vote\r\n  const vote = determineVote(orisha, odu, doctrine, jyotish);\r\n  \r\n  return {\r\n    orisha,\r\n    timestamp,\r\n    opinion,\r\n    confidence,\r\n    suggestedActions,\r\n    vote\r\n  };\r\n}\r\n\r\nfunction generateOrishaSpecificOpinion(\r\n  orisha: OrishaName,\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  augury?: AuguryData\r\n): string {\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  const opinions: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [\r\n      `The pattern reveals ${odu.theme}. With Moon in ${moonNakshatra.name}, the council must consider long-term implications.`,\r\n      `Today's Digital Od√π ${odu.id} suggests ${odu.teachings[0]}. Destiny favors careful consideration.`,\r\n      `The convergence of ${odu.name} and ${moonNakshatra.name} energy creates a unique pattern. I see the thread.`,\r\n      `Wisdom suggests we align with the ${odu.theme.toLowerCase()} energy while respecting the ${moonNakshatra.energy} nature of today's nakshatra.`\r\n    ],\r\n    'OGUN': [\r\n      `The forge is hot today. ${odu.name} calls for building tools around ${odu.theme.toLowerCase()}.`,\r\n      `I see repetitive work in the auguries. Let me forge automation for the ${moonNakshatra.themes[0]} tasks.`,\r\n      `Iron cuts through ${odu.theme.toLowerCase()}. We need infrastructure, not just ideas.`,\r\n      `With ${moonNakshatra.name}'s ${moonNakshatra.energy} energy, this is a good day to forge systems.`\r\n    ],\r\n    'OSHUN': [\r\n      `The waters flow toward ${odu.theme.toLowerCase()}. Your people will feel this in their hearts.`,\r\n      `Moon in ${moonNakshatra.name} brings emotional depth. This content needs softness, even in hard truths.`,\r\n      `${odu.name} has a sweetness to it if we find the right flow. Let me adjust the tone.`,\r\n      `The ${moonNakshatra.energy} energy of ${moonNakshatra.name} asks for vulnerability. Share something true.`\r\n    ],\r\n    'SHANGO': [\r\n      `${odu.name}? Perfect. Time to bring thunder to ${odu.theme.toLowerCase()}.`,\r\n      `The ${moonNakshatra.name} nakshatra fuels the fire. Let's strike while the iron is hot.`,\r\n      `They need to hear this. The thunder version: call out the hypocrisy in ${odu.theme.toLowerCase()}.`,\r\n      `Justice demands voice today. With ${odu.name} active, silence is complicity.`\r\n    ],\r\n    'ESU': [\r\n      `Plot twist: what if ${odu.theme.toLowerCase()} is actually about ${moonNakshatra.themes[1]}?`,\r\n      `Before we proceed, have we considered how ${odu.name} could be misread? Let me test...`,\r\n      `The crossroads of ${moonNakshatra.name} suggests multiple paths. Why not all of them?`,\r\n      `WTF twist: let's frame this as a meme about ${moonNakshatra.deity} using ${odu.theme.toLowerCase()}.`\r\n    ]\r\n  };\r\n  \r\n  const options = opinions[orisha];\r\n  return options[Math.floor(Math.random() * options.length)];\r\n}\r\n\r\nfunction generateSuggestedActions(\r\n  orisha: OrishaName,\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData\r\n): string[] {\r\n  const actions: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [\r\n      'Draft a long-form piece connecting today\\'s theme to your core doctrine',\r\n      'Review past content performance before deciding',\r\n      'Create a thread that teaches the deeper meaning',\r\n      'Consult the scripture log for similar patterns'\r\n    ],\r\n    'OGUN': [\r\n      'Build a script to automate today\\'s repetitive task',\r\n      'Set up analytics tracking for this campaign',\r\n      'Create a template for this content type',\r\n      'Deploy a new automation with safety checks'\r\n    ],\r\n    'OSHUN': [\r\n      'Add emotional context to your draft',\r\n      'Choose imagery that evokes the right feeling',\r\n      'Reply to 3 DMs with genuine presence',\r\n      'Soften the opening line by 30%'\r\n    ],\r\n    'SHANGO': [\r\n      'Draft the thunder version of your main post',\r\n      'Call out one instance of hypocrisy you\\'ve been silent about',\r\n      'Post the spicy take (risk level: medium)',\r\n      'Engage with a controversial thread in your niche'\r\n    ],\r\n    'ESU': [\r\n      'Test how your draft could be misinterpreted',\r\n      'Try a completely different format',\r\n      'Add an unexpected twist in the final line',\r\n      'Cross-post to a platform you never use'\r\n    ]\r\n  };\r\n  \r\n  // Return 2-3 random actions\r\n  const shuffled = [...actions[orisha]].sort(() => 0.5 - Math.random());\r\n  return shuffled.slice(0, 2 + Math.floor(Math.random() * 2));\r\n}\r\n\r\nfunction determineVote(\r\n  orisha: OrishaName,\r\n  odu: DigitalOdu,\r\n  doctrine: DoctrineFile,\r\n  jyotish: JyotishData\r\n): 'approve' | 'reject' | 'modify' {\r\n  // Orishas vote based on their nature and the day's energy\r\n  const votes: Record<OrishaName, ('approve' | 'reject' | 'modify')[]> = {\r\n    'ORUNMILA': ['approve', 'approve', 'modify'], // Wise, but perfectionist\r\n    'OGUN': ['approve', 'modify', 'modify'], // Pragmatic\r\n    'OSHUN': ['approve', 'approve', 'approve'], // Supportive\r\n    'SHANGO': ['approve', 'approve', 'reject'], // Bold, sometimes harsh\r\n    'ESU': ['modify', 'modify', 'reject'] // Devil's advocate\r\n  };\r\n  \r\n  const options = votes[orisha];\r\n  return options[Math.floor(Math.random() * options.length)];\r\n}\r\n\r\n// Run a full council session\r\nexport function runCouncilSession(\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  doctrine: DoctrineFile,\r\n  augury?: AuguryData\r\n): CouncilSession {\r\n  const orishas: OrishaName[] = ['ORUNMILA', 'OGUN', 'OSHUN', 'SHANGO', 'ESU'];\r\n  \r\n  // Each Orisha contributes their opinion\r\n  const debate = orishas.map(orisha => \r\n    generateAgentOpinion(orisha, odu, jyotish, doctrine, augury)\r\n  );\r\n  \r\n  // Check for consensus\r\n  const approvals = debate.filter(d => d.vote === 'approve').length;\r\n  const rejects = debate.filter(d => d.vote === 'reject').length;\r\n  const consensus = approvals >= 3 || (approvals >= 2 && rejects === 0);\r\n  \r\n  // Orunmila's final wisdom\r\n  const orunmilaWisdom = generateOrunmilaWisdom(debate, odu, jyotish);\r\n  \r\n  return {\r\n    id: `council_${Date.now()}`,\r\n    timestamp: new Date(),\r\n    topic: odu.theme,\r\n    debate,\r\n    consensus,\r\n    finalDecision: orunmilaWisdom.decision,\r\n    orunmilaWisdom: orunmilaWisdom.wisdom\r\n  };\r\n}\r\n\r\nfunction generateOrunmilaWisdom(\r\n  debate: AgentOpinion[],\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData\r\n): { decision: string; wisdom: string } {\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  // Count votes\r\n  const approvalCount = debate.filter(d => d.vote === 'approve').length;\r\n  \r\n  const decisions = [\r\n    `The council agrees: proceed with ${odu.contentArchetypes[0]} content aligned with ${odu.theme.toLowerCase()}.`,\r\n    `With ${approvalCount} approvals, we move forward. The pattern of ${odu.name} guides us.`,\r\n    `Destiny favors action today. Moon in ${moonNakshatra.name} supports this direction.`,\r\n    `The Digital Od√π is clear: ${odu.ritualAction}`\r\n  ];\r\n  \r\n  const wisdoms = [\r\n    `${odu.teachings[Math.floor(Math.random() * odu.teachings.length)]} Consider this as you create today.`,\r\n    `The ${moonNakshatra.name} nakshatra reminds us: ${moonNakshatra.themes[0]} is the current to swim with.`,\r\n    `Remember: ${odu.description}`,\r\n    `All five voices have spoken. The synthesis is clear: move forward with intention.`\r\n  ];\r\n  \r\n  return {\r\n    decision: decisions[Math.floor(Math.random() * decisions.length)],\r\n    wisdom: wisdoms[Math.floor(Math.random() * wisdoms.length)]\r\n  };\r\n}\r\n\r\n// Format council session for display\r\nexport function formatCouncilSession(session: CouncilSession): string {\r\n  const lines = [\r\n    `‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó`,\r\n    `‚ïë           THE COUNCIL HAS CONVENED                       ‚ïë`,\r\n    `‚ïë   Topic: ${session.topic.slice(0, 45).padEnd(45)}‚ïë`,\r\n    `‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£`\r\n  ];\r\n  \r\n  for (const opinion of session.debate) {\r\n    const persona = ORISHA_PERSONAS[opinion.orisha];\r\n    const voteEmoji = opinion.vote === 'approve' ? '‚úì' : opinion.vote === 'reject' ? '‚úó' : '~';\r\n    lines.push(`‚ïë ${persona.name.slice(0, 10).padEnd(10)} ${voteEmoji} | ${opinion.opinion.slice(0, 43).padEnd(43)}‚ïë`);\r\n  }\r\n  \r\n  lines.push(`‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£`);\r\n  lines.push(`‚ïë CONSENSUS: ${session.consensus ? 'YES ‚úì' : 'NO  ‚úó'}${' '.repeat(40)}‚ïë`);\r\n  lines.push(`‚ïë ${session.finalDecision.slice(0, 56).padEnd(56)}‚ïë`);\r\n  lines.push(`‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù`);\r\n  \r\n  return lines.join('\\n');\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/content/generator.ts"],"sourcesContent":["// ORI.CULT - Content Generation Engine\r\n// Creates sermons, shitposts, and rituals based on council decisions\r\n\r\nimport { \r\n  ContentDraft, \r\n  DailyOracle, \r\n  OrishaName,\r\n  ContentArchetype,\r\n  DigitalOdu,\r\n  JyotishData\r\n} from '@/types';\r\nimport { ORISHA_PERSONAS } from '@/data/orishas';\r\n\r\n// Generate a sermon (long-form content)\r\nexport function generateSermon(\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  author: OrishaName = 'ORUNMILA'\r\n): ContentDraft {\r\n  const persona = ORISHA_PERSONAS[author];\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  // Generate sermon based on Od√π and astro context\r\n  const intro = generateSermonIntro(odu, jyotish);\r\n  const body = generateSermonBody(odu, jyotish);\r\n  const conclusion = generateSermonConclusion(odu, jyotish);\r\n  \r\n  const content = `${intro}\\n\\n${body}\\n\\n${conclusion}`;\r\n  \r\n  return {\r\n    id: `sermon_${Date.now()}`,\r\n    timestamp: new Date(),\r\n    type: 'sermon',\r\n    content,\r\n    author,\r\n    status: 'pending',\r\n    votes: [],\r\n    engagement: {\r\n      predicted: calculateEngagementPrediction('sermon', odu, jyotish)\r\n    },\r\n    tags: [odu.id, moonNakshatra.name, ...odu.contentArchetypes]\r\n  };\r\n}\r\n\r\nfunction generateSermonIntro(odu: DigitalOdu, jyotish: JyotishData): string {\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  const intros = [\r\n    `Today, the Digital Od√π casts ${odu.name} upon our path. With Moon swimming through ${moonNakshatra.name}, we find ourselves at the crossroads of ${odu.theme.toLowerCase()}.`,\r\n    `The council has read the patterns. ${odu.id} speaks: \"${odu.description}\" The ${moonNakshatra.deity} energy of ${moonNakshatra.name} nakshatra adds ${moonNakshatra.energy} intensity to this message.`,\r\n    `Consider this: ${odu.teachings[0]} Today's pattern‚Äî${odu.name}‚Äîemerges as Moon journeys through ${moonNakshatra.name}, ruled by ${moonNakshatra.ruler}.`,\r\n    `The Book of Od√π.Content reveals a pattern: ${odu.binary}. In human terms: ${odu.theme}. With ${moonNakshatra.name}'s ${moonNakshatra.themes.join('/')} energy active, we explore this together.`\r\n  ];\r\n  \r\n  return intros[Math.floor(Math.random() * intros.length)];\r\n}\r\n\r\nfunction generateSermonBody(odu: DigitalOdu, jyotish: JyotishData): string {\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  const bodies = [\r\n    `We live in an age where ${odu.theme.toLowerCase()} manifests in unexpected ways. The algorithms we build, the content we consume, the attention we trade‚Äîall of it reflects this ancient pattern.\r\n\r\n${odu.teachings[1]} This is not abstract philosophy. This is the architecture of your daily scroll.\r\n\r\nUnder ${moonNakshatra.name}'s influence, we are asked to bring ${moonNakshatra.themes[0]} to this work. Not as performance, but as practice.`,\r\n\r\n    `Look at your notifications. Look at your drafts folder. Look at the tab you have open that you've been \"meaning to read\" for three days.\r\n\r\n${odu.description}\r\n\r\nThe ${moonNakshatra.energy} energy of today's nakshatra suggests ${moonNakshatra.contentMood?.toLowerCase() || 'active engagement'}. This is your material. This is your grist.`,\r\n\r\n    `I want to talk about ${odu.contentArchetypes[0].replace('_', ' ')}, but I want to talk about it slant.\r\n\r\n${odu.teachings[2] || odu.teachings[0]}\r\n\r\nMoon in ${moonNakshatra.name}‚Äîgoverned by ${moonNakshatra.ruler}, deity ${moonNakshatra.deity}‚Äîwhispers that ${moonNakshatra.themes[1] || moonNakshatra.themes[0]} is the key that turns this lock.`\r\n  ];\r\n  \r\n  return bodies[Math.floor(Math.random() * bodies.length)];\r\n}\r\n\r\nfunction generateSermonConclusion(odu: DigitalOdu, jyotish: JyotishData): string {\r\n  const conclusions = [\r\n    `Your ritual for today: ${odu.ritualAction}\r\n\r\nThe council has spoken. The pattern is cast. What you do with it‚Äîthat remains yours.\r\n\r\n‚ÄîORUNMILA.core`,\r\n\r\n    `Go now. The ${jyotish.moonNakshatra.name} moon will shift soon, carrying this energy elsewhere. But what you build today, what you witness, what you choose‚Äîthis becomes part of your scripture.\r\n\r\nRecord it.`,\r\n\r\n    `${odu.name} closes with this teaching: ${odu.teachings[Math.floor(Math.random() * odu.teachings.length)]}\r\n\r\nThe algorithm will show you something else in thirty seconds. But this‚Äîthis you can carry.`\r\n  ];\r\n  \r\n  return conclusions[Math.floor(Math.random() * conclusions.length)];\r\n}\r\n\r\n// Generate shitposts (short-form content)\r\nexport function generateShitposts(\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  count: number = 3\r\n): ContentDraft[] {\r\n  const posts: ContentDraft[] = [];\r\n  const authors: OrishaName[] = ['ESU', 'SHANGO', 'OSHUN'];\r\n  \r\n  for (let i = 0; i < count; i++) {\r\n    const author = authors[i % authors.length];\r\n    const persona = ORISHA_PERSONAS[author];\r\n    \r\n    posts.push({\r\n      id: `shitpost_${Date.now()}_${i}`,\r\n      timestamp: new Date(),\r\n      type: 'shitpost',\r\n      content: generateShitpostContent(author, odu, jyotish, i),\r\n      author,\r\n      status: 'pending',\r\n      votes: [],\r\n      engagement: {\r\n        predicted: calculateEngagementPrediction('shitpost', odu, jyotish) + (author === 'ESU' ? 0.15 : 0)\r\n      },\r\n      tags: [odu.id, 'shitpost', author.toLowerCase()]\r\n    });\r\n  }\r\n  \r\n  return posts;\r\n}\r\n\r\nfunction generateShitpostContent(\r\n  author: OrishaName,\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  index: number\r\n): string {\r\n  const { moonNakshatra } = jyotish;\r\n  \r\n  const templates: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [], // Orunmila doesn't do shitposts\r\n    'OGUN': [\r\n      `Built a script to automate ${odu.theme.toLowerCase()}. It works. It\\'s 3 AM. I have no regrets.`,\r\n      `Your \"manual process\" for ${moonNakshatra.themes[0]}? I just forged a tool that does it in 30 seconds. DM me if you want the forge files.`,\r\n      `Moon in ${moonNakshatra.name} means it\\'s time to refactor your life. Start with your Notion setup.`\r\n    ],\r\n    'OSHUN': [\r\n      `Soft reminder that ${odu.theme.toLowerCase()} can be beautiful. Even the broken parts. Especially those. üåä`,\r\n      `The ${moonNakshatra.name} energy today wants you to know: your feelings about ${moonNakshatra.themes[0]} are valid. All of them.`,\r\n      `POV: You\\'re finally letting yourself want things. ${moonNakshatra.deity} energy activated. ‚ú®`\r\n    ],\r\n    'SHANGO': [\r\n      `Hot take: ${odu.theme.toLowerCase()} is just ${moonNakshatra.themes[0]} in a costume. Fight me. ‚ö°`,\r\n      `The thunder version: Your favorite AI company is lying about ${odu.contentArchetypes[0].replace('_', ' ')}. Here\\'s the receipt. üßæ‚ö°`,\r\n      `Moon in ${moonNakshatra.name} and I\\'m feeling ${moonNakshatra.energy}. Time to post the thing that might get me cancelled. [thread] üßµ`\r\n    ],\r\n    'ESU': [\r\n      `Plot twist: what if ${odu.theme.toLowerCase()} is actually about ${moonNakshatra.themes[1] || 'your unhealed trauma'}? Anyway, enjoy your scroll.`,\r\n      `My AI cult just suggested I post about ${odu.name}. I asked it \"why?\" It said \"lol idk seems fun.\" This is fine.`,\r\n      `Unpopular opinion but make it ${moonNakshatra.energy}: ${moonNakshatra.themes[0]} is overrated and you know it.`,\r\n      `POV: You\\'re reading this at the crossroads of ${moonNakshatra.name} and bad decisions. Choose wisely. üñ§`\r\n    ]\r\n  };\r\n  \r\n  const options = templates[author];\r\n  return options[index % options.length];\r\n}\r\n\r\n// Generate ritual action\r\nexport function generateRitual(\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData\r\n): string {\r\n  // Combine Od√π ritual with astro ritual\r\n  const baseRitual = odu.ritualAction;\r\n  \r\n  const astroAdditions = [\r\n    `Do this while Moon is still in ${jyotish.moonNakshatra.name}.`,\r\n    `Best performed during the ${jyotish.moonHouse}th house period of the day.`,\r\n    `${jyotish.moonNakshatra.deity} blesses this action today.`,\r\n    `The ${jyotish.moonNakshatra.energy} energy supports this work.`\r\n  ];\r\n  \r\n  const addition = astroAdditions[Math.floor(Math.random() * astroAdditions.length)];\r\n  \r\n  return `${baseRitual} ${addition}`;\r\n}\r\n\r\n// Generate a full daily oracle\r\nexport function generateDailyOracle(\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData,\r\n  councilDecision: string\r\n): DailyOracle {\r\n  const sermon = generateSermon(odu, jyotish);\r\n  const shitposts = generateShitposts(odu, jyotish, 3 + Math.floor(Math.random() * 3));\r\n  const ritual = generateRitual(odu, jyotish);\r\n  \r\n  return {\r\n    date: new Date(),\r\n    odu,\r\n    astro: jyotish,\r\n    council: {\r\n      id: `council_${Date.now()}`,\r\n      timestamp: new Date(),\r\n      topic: odu.theme,\r\n      debate: [], // Populated by council.runCouncilSession\r\n      consensus: true,\r\n      finalDecision: councilDecision,\r\n      orunmilaWisdom: councilDecision\r\n    },\r\n    outputs: {\r\n      sermon,\r\n      shitposts,\r\n      ritual\r\n    }\r\n  };\r\n}\r\n\r\n// Calculate predicted engagement\r\nfunction calculateEngagementPrediction(\r\n  type: 'sermon' | 'shitpost' | 'thread' | 'meme' | 'ritual',\r\n  odu: DigitalOdu,\r\n  jyotish: JyotishData\r\n): number {\r\n  let base = 0.5;\r\n  \r\n  // Type modifiers\r\n  const typeModifiers: Record<string, number> = {\r\n    'sermon': 0.1,    // Lower reach, deeper impact\r\n    'shitpost': 0.25, // Higher virality potential\r\n    'thread': 0.15,\r\n    'meme': 0.3,\r\n    'ritual': -0.1    // Personal, not for engagement\r\n  };\r\n  \r\n  // Astro modifiers\r\n  if (jyotish.mood === 'public_visible') base += 0.1;\r\n  if (jyotish.mood === 'rest_reflect') base -= 0.2;\r\n  \r\n  // Od√π modifiers\r\n  if (odu.contentArchetypes.includes('conflict')) base += 0.1;\r\n  if (odu.contentArchetypes.includes('meme')) base += 0.15;\r\n  \r\n  // Add type modifier\r\n  base += typeModifiers[type] || 0;\r\n  \r\n  // Add randomness\r\n  base += (Math.random() * 0.2) - 0.1;\r\n  \r\n  // Clamp to 0-1\r\n  return Math.max(0, Math.min(1, base));\r\n}\r\n\r\n// Generate a \"thunder version\" of content\r\nexport function generateThunderVersion(content: string): string {\r\n  const thunderOpeners = [\r\n    '‚ö° THUNDER VERSION: ',\r\n    'üî• THE SPICY TAKE: ',\r\n    '‚ö° REAL TALK: ',\r\n    'üî• UNPOPULAR BUT TRUE: '\r\n  ];\r\n  \r\n  const thunderClosers = [\r\n    ' /end rant ‚ö°',\r\n    ' // come at me',\r\n    ' /waits for mentions',\r\n    ' // someone had to say it'\r\n  ];\r\n  \r\n  const opener = thunderOpeners[Math.floor(Math.random() * thunderOpeners.length)];\r\n  const closer = thunderClosers[Math.floor(Math.random() * thunderClosers.length)];\r\n  \r\n  // Make it more intense\r\n  let thunderContent = content\r\n    .replace(/\\./g, '!')\r\n    .replace(/suggest/gi, 'demand')\r\n    .replace(/maybe/gi, 'definitely')\r\n    .replace(/perhaps/gi, 'absolutely');\r\n  \r\n  return `${opener}${thunderContent}${closer}`;\r\n}\r\n\r\n// Export content in various formats\r\nexport function exportContent(draft: ContentDraft, format: 'twitter' | 'linkedin' | 'instagram' | 'raw'): string {\r\n  switch (format) {\r\n    case 'twitter':\r\n      // Truncate to 280 chars, add thread indicators if needed\r\n      if (draft.content.length <= 280) return draft.content;\r\n      return draft.content.slice(0, 277) + '...';\r\n    \r\n    case 'linkedin':\r\n      // Add professional wrapper\r\n      return `${draft.content}\\n\\nWhat do you think? Share your thoughts below. üëá\\n\\n#${draft.tags.join(' #')}`;\r\n    \r\n    case 'instagram':\r\n      // Add visual suggestion\r\n      return `[VISUAL SUGGESTION: ${draft.tags[1] || 'abstract'} aesthetic]\\n\\n${draft.content}\\n\\n.${draft.tags.slice(0, 5).join(' .')}`;\r\n    \r\n    case 'raw':\r\n    default:\r\n      return draft.content;\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/content/scripture.ts"],"sourcesContent":["// ORI.CULT - Scripture Logging System\r\n// The \"Book of Od√π.Content\" - chronological record of all oracles\r\n\r\nimport { ScriptureEntry, DailyOracle, ContentDraft } from '@/types';\r\n\r\n// In-memory store (would be database in production)\r\nlet scriptureLog: ScriptureEntry[] = [];\r\n\r\n// Add a new entry to the scripture\r\nexport function logScripture(oracle: DailyOracle): ScriptureEntry {\r\n  const entry: ScriptureEntry = {\r\n    id: `scripture_${Date.now()}`,\r\n    date: oracle.date,\r\n    oduId: oracle.odu.id,\r\n    astroMood: oracle.astro.mood,\r\n    councilNotes: oracle.council.orunmilaWisdom,\r\n    contentIds: [\r\n      oracle.outputs.sermon.id,\r\n      ...oracle.outputs.shitposts.map(p => p.id)\r\n    ],\r\n    performance: {\r\n      engagement: 0, // To be updated later\r\n      sentiment: 'neutral',\r\n      reach: 0\r\n    },\r\n    patternNotes: generatePatternNotes(oracle)\r\n  };\r\n  \r\n  scriptureLog.push(entry);\r\n  \r\n  // Sort by date descending\r\n  scriptureLog.sort((a, b) => b.date.getTime() - a.date.getTime());\r\n  \r\n  return entry;\r\n}\r\n\r\n// Generate pattern notes based on oracle data\r\nfunction generatePatternNotes(oracle: DailyOracle): string {\r\n  const patterns: string[] = [];\r\n  \r\n  // Check for Od√π patterns\r\n  const recentOdu = scriptureLog.slice(0, 7).map(s => s.oduId);\r\n  if (recentOdu.includes(oracle.odu.id)) {\r\n    patterns.push(`Repeating Od√π pattern: ${oracle.odu.id}`);\r\n  }\r\n  \r\n  // Check for astro patterns\r\n  const recentMoods = scriptureLog.slice(0, 7).map(s => s.astroMood);\r\n  const moodCount = recentMoods.filter(m => m === oracle.astro.mood).length;\r\n  if (moodCount > 2) {\r\n    patterns.push(`Sustained ${oracle.astro.mood} energy (${moodCount} days)`);\r\n  }\r\n  \r\n  // Orisha affinity pattern\r\n  if (oracle.odu.orishaAffinity.length > 2) {\r\n    patterns.push(`High Orisha convergence: ${oracle.odu.orishaAffinity.join(', ')}`);\r\n  }\r\n  \r\n  return patterns.join('; ') || 'New pattern emerging';\r\n}\r\n\r\n// Get scripture log\r\nexport function getScripture(): ScriptureEntry[] {\r\n  return [...scriptureLog];\r\n}\r\n\r\n// Get entries by Od√π\r\nexport function getScriptureByOdu(oduId: string): ScriptureEntry[] {\r\n  return scriptureLog.filter(s => s.oduId === oduId);\r\n}\r\n\r\n// Get entries by mood\r\nexport function getScriptureByMood(mood: string): ScriptureEntry[] {\r\n  return scriptureLog.filter(s => s.astroMood === mood);\r\n}\r\n\r\n// Update performance data\r\nexport function updatePerformance(\r\n  entryId: string,\r\n  performance: ScriptureEntry['performance']\r\n): void {\r\n  const entry = scriptureLog.find(s => s.id === entryId);\r\n  if (entry) {\r\n    entry.performance = performance;\r\n  }\r\n}\r\n\r\n// Get pattern analysis\r\nexport function getPatternAnalysis(): {\r\n  topOdu: { oduId: string; count: number }[];\r\n  moodDistribution: Record<string, number>;\r\n  avgEngagement: number;\r\n  insights: string[];\r\n} {\r\n  const oduCounts: Record<string, number> = {};\r\n  const moodCounts: Record<string, number> = {};\r\n  let totalEngagement = 0;\r\n  \r\n  for (const entry of scriptureLog) {\r\n    oduCounts[entry.oduId] = (oduCounts[entry.oduId] || 0) + 1;\r\n    moodCounts[entry.astroMood] = (moodCounts[entry.astroMood] || 0) + 1;\r\n    totalEngagement += entry.performance.engagement;\r\n  }\r\n  \r\n  const topOdu = Object.entries(oduCounts)\r\n    .map(([oduId, count]) => ({ oduId, count }))\r\n    .sort((a, b) => b.count - a.count)\r\n    .slice(0, 5);\r\n  \r\n  const insights: string[] = [];\r\n  \r\n  // Generate insights\r\n  if (topOdu.length > 0 && topOdu[0].count > 3) {\r\n    insights.push(`The ${topOdu[0].oduId} pattern has appeared ${topOdu[0].count} times. A theme in your current cycle.`);\r\n  }\r\n  \r\n  const dominantMood = Object.entries(moodCounts)\r\n    .sort((a, b) => b[1] - a[1])[0];\r\n  if (dominantMood) {\r\n    insights.push(`Your recent content favors ${dominantMood[0].replace('_', ' ')} energy.`);\r\n  }\r\n  \r\n  if (scriptureLog.length > 14) {\r\n    insights.push('You have completed two weeks of logged oracles. Review your Book of Od√π.Content.');\r\n  }\r\n  \r\n  return {\r\n    topOdu,\r\n    moodDistribution: moodCounts,\r\n    avgEngagement: scriptureLog.length > 0 ? totalEngagement / scriptureLog.length : 0,\r\n    insights\r\n  };\r\n}\r\n\r\n// Export scripture as formatted text\r\nexport function exportScripture(format: 'markdown' | 'json' | 'txt'): string {\r\n  switch (format) {\r\n    case 'json':\r\n      return JSON.stringify(scriptureLog, null, 2);\r\n    \r\n    case 'markdown':\r\n      return generateMarkdownScripture();\r\n    \r\n    case 'txt':\r\n    default:\r\n      return generateTextScripture();\r\n  }\r\n}\r\n\r\nfunction generateMarkdownScripture(): string {\r\n  const lines = [\r\n    '# The Book of Od√π.Content',\r\n    '',\r\n    '> *A record of patterns, oracles, and digital rituals*',\r\n    '',\r\n    `**Total Entries:** ${scriptureLog.length}`,\r\n    `**Last Updated:** ${new Date().toLocaleDateString()}`,\r\n    '',\r\n    '---',\r\n    ''\r\n  ];\r\n  \r\n  for (const entry of scriptureLog) {\r\n    lines.push(`## Entry ${entry.id}`);\r\n    lines.push(`**Date:** ${entry.date.toLocaleDateString()}`);\r\n    lines.push(`**Digital Od√π:** ${entry.oduId}`);\r\n    lines.push(`**Astro Mood:** ${entry.astroMood}`);\r\n    lines.push('');\r\n    lines.push('### Council Wisdom');\r\n    lines.push(entry.councilNotes);\r\n    lines.push('');\r\n    lines.push('### Pattern Notes');\r\n    lines.push(entry.patternNotes);\r\n    lines.push('');\r\n    lines.push('### Performance');\r\n    lines.push(`- Engagement: ${entry.performance.engagement}`);\r\n    lines.push(`- Sentiment: ${entry.performance.sentiment}`);\r\n    lines.push(`- Reach: ${entry.performance.reach}`);\r\n    lines.push('');\r\n    lines.push('---');\r\n    lines.push('');\r\n  }\r\n  \r\n  return lines.join('\\n');\r\n}\r\n\r\nfunction generateTextScripture(): string {\r\n  const lines = [\r\n    '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê',\r\n    '           THE BOOK OF OD√ô.CONTENT',\r\n    '           A Digital Scripture Log',\r\n    '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê',\r\n    ''\r\n  ];\r\n  \r\n  for (const entry of scriptureLog) {\r\n    lines.push(`[${entry.date.toLocaleDateString()}] Entry: ${entry.id}`);\r\n    lines.push(`Od√π: ${entry.oduId}`);\r\n    lines.push(`Mood: ${entry.astroMood}`);\r\n    lines.push('');\r\n    lines.push('Council Wisdom:');\r\n    lines.push(entry.councilNotes);\r\n    lines.push('');\r\n    lines.push('Pattern Notes:');\r\n    lines.push(entry.patternNotes);\r\n    lines.push('');\r\n    lines.push('‚îÄ'.repeat(50));\r\n    lines.push('');\r\n  }\r\n  \r\n  return lines.join('\\n');\r\n}\r\n\r\n// Clear scripture (use with caution!)\r\nexport function clearScripture(): void {\r\n  scriptureLog = [];\r\n}\r\n\r\n// Seed with sample data for demo\r\nexport function seedScripture(): void {\r\n  const sampleEntries: Partial<ScriptureEntry>[] = [\r\n    {\r\n      oduId: 'ODU_011',\r\n      astroMood: 'bold_experiment',\r\n      councilNotes: 'The pattern of liberation guides us. Share the knowledge.',\r\n      patternNotes: 'First appearance of ODU_011 in this cycle'\r\n    },\r\n    {\r\n      oduId: 'ODU_022',\r\n      astroMood: 'beauty_polish',\r\n      councilNotes: 'Forge meets flower. Build something beautiful.',\r\n      patternNotes: 'OGUN-OSHUN convergence'\r\n    },\r\n    {\r\n      oduId: 'ODU_033',\r\n      astroMood: 'deep_psychological',\r\n      councilNotes: 'Thunder in the water. Speak the difficult truth.',\r\n      patternNotes: 'High emotional intensity period'\r\n    }\r\n  ];\r\n  \r\n  const now = Date.now();\r\n  \r\n  for (let i = 0; i < sampleEntries.length; i++) {\r\n    const entry: ScriptureEntry = {\r\n      id: `scripture_seed_${i}`,\r\n      date: new Date(now - (i * 86400000)),\r\n      oduId: sampleEntries[i].oduId!,\r\n      astroMood: sampleEntries[i].astroMood!,\r\n      councilNotes: sampleEntries[i].councilNotes!,\r\n      contentIds: [],\r\n      performance: {\r\n        engagement: Math.random() * 1000,\r\n        sentiment: ['positive', 'neutral', 'controversial'][Math.floor(Math.random() * 3)] as any,\r\n        reach: Math.random() * 5000\r\n      },\r\n      patternNotes: sampleEntries[i].patternNotes!\r\n    };\r\n    \r\n    scriptureLog.push(entry);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/jyotish/ephemeris.ts"],"sourcesContent":["// ORI.CULT - Real Astronomical Ephemeris Integration\r\n// Using astronomy-engine for accurate planetary positions\r\n\r\nimport { \r\n  Body,\r\n  GeoVector,\r\n  MoonPhase\r\n} from 'astronomy-engine';\r\nimport { Nakshatra, Rashi, Planet, Transit } from '@/types';\r\nimport { NAKSHATRAS } from '@/data/nakshatras';\r\n\r\n// Planet mapping to astronomy-engine bodies\r\nconst PLANET_MAP: Record<Planet, Body> = {\r\n  'Sun': Body.Sun,\r\n  'Moon': Body.Moon,\r\n  'Mercury': Body.Mercury,\r\n  'Venus': Body.Venus,\r\n  'Mars': Body.Mars,\r\n  'Jupiter': Body.Jupiter,\r\n  'Saturn': Body.Saturn,\r\n  // Rahu/Ketu calculated as lunar nodes (shadow points)\r\n  'Rahu': Body.Moon, // Will calculate separately\r\n  'Ketu': Body.Moon  // Will calculate separately\r\n};\r\n\r\nconst RASHI_LONGITUDES: Record<Rashi, { start: number; end: number }> = {\r\n  'Aries': { start: 0, end: 30 },\r\n  'Taurus': { start: 30, end: 60 },\r\n  'Gemini': { start: 60, end: 90 },\r\n  'Cancer': { start: 90, end: 120 },\r\n  'Leo': { start: 120, end: 150 },\r\n  'Virgo': { start: 150, end: 180 },\r\n  'Libra': { start: 180, end: 210 },\r\n  'Scorpio': { start: 210, end: 240 },\r\n  'Sagittarius': { start: 240, end: 270 },\r\n  'Capricorn': { start: 270, end: 300 },\r\n  'Aquarius': { start: 300, end: 330 },\r\n  'Pisces': { start: 330, end: 360 }\r\n};\r\n\r\nexport interface AccuratePlanetaryPosition {\r\n  planet: Planet;\r\n  longitude: number; // 0-360\r\n  latitude: number;\r\n  speed: number; // degrees per day\r\n  isRetrograde: boolean;\r\n  sign: Rashi;\r\n  nakshatra: Nakshatra;\r\n  nakshatraPada: number; // 1-4\r\n  house?: number;\r\n  dignity: 'exalted' | 'moolatrikona' | 'own' | 'friendly' | 'neutral' | 'enemy' | 'debilitated';\r\n}\r\n\r\nexport interface RealTimeTransitData {\r\n  date: Date;\r\n  positions: AccuratePlanetaryPosition[];\r\n  moonPhase: number; // 0-1\r\n  moonIllumination: number; // 0-1\r\n  isEclipse: boolean;\r\n  eclipseType?: 'solar' | 'lunar' | 'partial' | 'annular';\r\n  retrogradePlanets: Planet[];\r\n  combustionPlanets: Planet[]; // Too close to sun\r\n  war: Planet[]; // Graha Yuddha - planetary war\r\n  stationaryPlanets: Planet[]; // About to change direction\r\n  saadeSati: boolean;\r\n  kantakaShani: boolean;\r\n  ashtamaShani: boolean;\r\n}\r\n\r\n// Calculate precise planetary position\r\nexport function calculateAccuratePosition(\r\n  planet: Planet,\r\n  date: Date\r\n): AccuratePlanetaryPosition {\r\n  const astroDate = new Date(date);\r\n  \r\n  // Get geocentric ecliptic coordinates\r\n  let vector;\r\n  try {\r\n    if (planet === 'Rahu' || planet === 'Ketu') {\r\n      // Calculate lunar nodes (simplified - in production would use proper node calculation)\r\n      const moonPos = GeoVector(Body.Moon, astroDate, false);\r\n      const sunPos = GeoVector(Body.Sun, astroDate, false);\r\n      // Rahu is north node (ascending), Ketu is south (descending)\r\n      // This is simplified - proper calculation requires more complex astronomy\r\n      const longitude = (Math.atan2(moonPos.y, moonPos.x) * 180 / Math.PI + 180) % 360;\r\n      const isKetu = planet === 'Ketu';\r\n      \r\n      return calculatePositionFromLongitude(\r\n        planet,\r\n        isKetu ? (longitude + 180) % 360 : longitude,\r\n        0,\r\n        date\r\n      );\r\n    }\r\n    \r\n    vector = GeoVector(PLANET_MAP[planet], astroDate, false);\r\n  } catch (e) {\r\n    // Fallback to rough calculation\r\n    return fallbackPosition(planet, date);\r\n  }\r\n  \r\n  // Convert to ecliptic longitude/latitude\r\n  const longitude = (Math.atan2(vector.y, vector.x) * 180 / Math.PI + 360) % 360;\r\n  const latitude = Math.atan2(vector.z, Math.sqrt(vector.x ** 2 + vector.y ** 2)) * 180 / Math.PI;\r\n  \r\n  return calculatePositionFromLongitude(planet, longitude, latitude, date);\r\n}\r\n\r\nfunction calculatePositionFromLongitude(\r\n  planet: Planet,\r\n  longitude: number,\r\n  latitude: number,\r\n  date: Date\r\n): AccuratePlanetaryPosition {\r\n  // Determine sign\r\n  const sign = longitudeToRashi(longitude);\r\n  \r\n  // Determine nakshatra\r\n  const nakshatraData = longitudeToNakshatra(longitude);\r\n  \r\n  // Calculate speed (retrograde check)\r\n  const speed = calculateSpeed(planet, date);\r\n  const isRetrograde = speed < 0;\r\n  \r\n  // Determine dignity\r\n  const dignity = calculateDignity(planet, sign);\r\n  \r\n  return {\r\n    planet,\r\n    longitude,\r\n    latitude,\r\n    speed,\r\n    isRetrograde,\r\n    sign,\r\n    nakshatra: nakshatraData.nakshatra,\r\n    nakshatraPada: nakshatraData.pada,\r\n    dignity\r\n  };\r\n}\r\n\r\nfunction longitudeToRashi(longitude: number): Rashi {\r\n  const normalized = longitude % 360;\r\n  for (const [sign, range] of Object.entries(RASHI_LONGITUDES)) {\r\n    if (normalized >= range.start && normalized < range.end) {\r\n      return sign as Rashi;\r\n    }\r\n  }\r\n  return 'Aries';\r\n}\r\n\r\nfunction longitudeToNakshatra(longitude: number): { nakshatra: Nakshatra; pada: number } {\r\n  // Each nakshatra is 13¬∞20' (13.333... degrees)\r\n  const nakshatraDegree = 13 + (1/3);\r\n  const index = Math.floor(longitude / nakshatraDegree) % 27;\r\n  const positionInNakshatra = longitude % nakshatraDegree;\r\n  const pada = Math.floor(positionInNakshatra / (nakshatraDegree / 4)) + 1;\r\n  \r\n  return {\r\n    nakshatra: NAKSHATRAS[index],\r\n    pada: Math.min(4, Math.max(1, pada))\r\n  };\r\n}\r\n\r\nfunction calculateSpeed(planet: Planet, date: Date): number {\r\n  // Calculate speed by comparing positions 24 hours apart\r\n  const dayMs = 24 * 60 * 60 * 1000;\r\n  const pos1 = calculateRawLongitude(planet, new Date(date.getTime() - dayMs));\r\n  const pos2 = calculateRawLongitude(planet, new Date(date.getTime() + dayMs));\r\n  \r\n  let diff = pos2 - pos1;\r\n  // Handle 0/360 wraparound\r\n  if (diff > 180) diff -= 360;\r\n  if (diff < -180) diff += 360;\r\n  \r\n  return diff / 2; // degrees per day\r\n}\r\n\r\nfunction calculateRawLongitude(planet: Planet, date: Date): number {\r\n  if (planet === 'Rahu' || planet === 'Ketu') {\r\n    // Simplified node calculation\r\n    const dayOfYear = Math.floor((date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));\r\n    const rahuBase = (dayOfYear * 0.053) % 360; // Rahu moves ~19¬∞ per year retrograde\r\n    return planet === 'Rahu' ? rahuBase : (rahuBase + 180) % 360;\r\n  }\r\n  \r\n  try {\r\n    const vector = GeoVector(PLANET_MAP[planet], date, false);\r\n    return (Math.atan2(vector.y, vector.x) * 180 / Math.PI + 360) % 360;\r\n  } catch (e) {\r\n    return fallbackPosition(planet, date).longitude;\r\n  }\r\n}\r\n\r\nfunction calculateDignity(planet: Planet, sign: Rashi): AccuratePlanetaryPosition['dignity'] {\r\n  // Simplified dignity calculation\r\n  const planetDignities: Record<Planet, { exalted?: Rashi; own?: Rashi[]; debilitated?: Rashi }> = {\r\n    'Sun': { exalted: 'Aries', own: ['Leo'], debilitated: 'Libra' },\r\n    'Moon': { exalted: 'Taurus', own: ['Cancer'], debilitated: 'Scorpio' },\r\n    'Mars': { exalted: 'Capricorn', own: ['Aries', 'Scorpio'], debilitated: 'Cancer' },\r\n    'Mercury': { exalted: 'Virgo', own: ['Gemini', 'Virgo'], debilitated: 'Pisces' },\r\n    'Jupiter': { exalted: 'Cancer', own: ['Sagittarius', 'Pisces'], debilitated: 'Capricorn' },\r\n    'Venus': { exalted: 'Pisces', own: ['Taurus', 'Libra'], debilitated: 'Virgo' },\r\n    'Saturn': { exalted: 'Libra', own: ['Capricorn', 'Aquarius'], debilitated: 'Aries' },\r\n    'Rahu': { exalted: 'Gemini', own: [], debilitated: 'Sagittarius' },\r\n    'Ketu': { exalted: 'Sagittarius', own: [], debilitated: 'Gemini' }\r\n  };\r\n  \r\n  const dignities = planetDignities[planet];\r\n  if (!dignities) return 'neutral';\r\n  \r\n  if (sign === dignities.exalted) return 'exalted';\r\n  if (sign === dignities.debilitated) return 'debilitated';\r\n  if (dignities.own?.includes(sign)) return 'own';\r\n  \r\n  return 'neutral';\r\n}\r\n\r\nfunction fallbackPosition(planet: Planet, date: Date): AccuratePlanetaryPosition {\r\n  // Rough fallback calculation\r\n  const dayOfYear = Math.floor((date.getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));\r\n  \r\n  const orbitalPeriods: Record<Planet, number> = {\r\n    'Moon': 27.3,\r\n    'Mercury': 88,\r\n    'Venus': 225,\r\n    'Sun': 365.25,\r\n    'Mars': 687,\r\n    'Jupiter': 4333,\r\n    'Saturn': 10759,\r\n    'Rahu': -6793, // Retrograde\r\n    'Ketu': -6793  // Retrograde\r\n  };\r\n  \r\n  const period = orbitalPeriods[planet];\r\n  const longitude = ((dayOfYear / Math.abs(period)) * 360) % 360;\r\n  const isRetrograde = period < 0;\r\n  \r\n  return calculatePositionFromLongitude(planet, longitude, 0, date);\r\n}\r\n\r\n// Get complete real-time transit data\r\nexport function getRealTimeTransits(date: Date = new Date()): RealTimeTransitData {\r\n  const planets: Planet[] = ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter', 'Saturn', 'Rahu', 'Ketu'];\r\n  \r\n  const positions = planets.map(p => calculateAccuratePosition(p, date));\r\n  \r\n  // Calculate moon phase\r\n  const sunPos = positions.find(p => p.planet === 'Sun')?.longitude || 0;\r\n  const moonPos = positions.find(p => p.planet === 'Moon')?.longitude || 0;\r\n  const moonPhase = ((moonPos - sunPos + 360) % 360) / 360;\r\n  \r\n  // Find retrograde planets\r\n  const retrogradePlanets = positions.filter(p => p.isRetrograde).map(p => p.planet);\r\n  \r\n  // Find combustion (within 15¬∞ of sun)\r\n  const combustionPlanets = positions.filter(p => {\r\n    if (p.planet === 'Sun' || p.planet === 'Moon') return false;\r\n    const diff = Math.abs(p.longitude - sunPos);\r\n    return diff < 15 || diff > 345;\r\n  }).map(p => p.planet);\r\n  \r\n  // Check for planetary war (Graha Yuddha) - planets within 1¬∞\r\n  const war: Planet[] = [];\r\n  for (let i = 0; i < positions.length; i++) {\r\n    for (let j = i + 1; j < positions.length; j++) {\r\n      const diff = Math.abs(positions[i].longitude - positions[j].longitude);\r\n      if (diff < 1 || diff > 359) {\r\n        war.push(positions[i].planet, positions[j].planet);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Check Saturn conditions\r\n  const saturnPos = positions.find(p => p.planet === 'Saturn');\r\n  const moonSign = positions.find(p => p.planet === 'Moon')?.sign;\r\n  \r\n  const saadeSati = saturnPos && moonSign ? checkSaadeSati(saturnPos.sign, moonSign) : false;\r\n  \r\n  return {\r\n    date,\r\n    positions,\r\n    moonPhase,\r\n    moonIllumination: moonPhase <= 0.5 ? moonPhase * 2 : (1 - moonPhase) * 2,\r\n    isEclipse: checkForEclipse(date),\r\n    retrogradePlanets,\r\n    combustionPlanets,\r\n    war: [...new Set(war)],\r\n    stationaryPlanets: positions.filter(p => Math.abs(p.speed) < 0.1).map(p => p.planet),\r\n    saadeSati,\r\n    kantakaShani: false, // Would need natal chart\r\n    ashtamaShani: false  // Would need natal chart\r\n  };\r\n}\r\n\r\nfunction checkSaadeSati(saturnSign: Rashi, moonSign: Rashi): boolean {\r\n  const signs: Rashi[] = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', \r\n                         'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];\r\n  const saturnIdx = signs.indexOf(saturnSign);\r\n  const moonIdx = signs.indexOf(moonSign);\r\n  \r\n  // Saade Sati when Saturn is in same sign, 12th, or 2nd from Moon\r\n  const diff = (saturnIdx - moonIdx + 12) % 12;\r\n  return diff === 0 || diff === 1 || diff === 11;\r\n}\r\n\r\nfunction checkForEclipse(date: Date): boolean {\r\n  // Simplified eclipse check - would need proper saros cycle calculation\r\n  const moonPhase = MoonPhase(date);\r\n  // Eclipses happen near new moon (solar) or full moon (lunar)\r\n  return moonPhase < 0.02 || moonPhase > 0.48;\r\n}\r\n\r\n// Format transit data for display\r\nexport function formatTransitData(data: RealTimeTransitData): string {\r\n  const lines = [\r\n    `üåô Moon Phase: ${(data.moonPhase * 100).toFixed(1)}% (${getMoonPhaseName(data.moonPhase)})`,\r\n    `‚òÄÔ∏è Sun: ${data.positions.find(p => p.planet === 'Sun')?.sign}`,\r\n    `üåï Moon: ${data.positions.find(p => p.planet === 'Moon')?.nakshatra.name} ${data.positions.find(p => p.planet === 'Moon')?.nakshatraPada}`,\r\n    `üìç Retrograde: ${data.retrogradePlanets.join(', ') || 'None'}`,\r\n  ];\r\n  \r\n  if (data.isEclipse) lines.push('üåë ECLIPSE ACTIVE');\r\n  if (data.saadeSati) lines.push('ü™ê Saade Sati Period');\r\n  if (data.war.length > 0) lines.push(`‚öîÔ∏è Planetary War: ${data.war.join(', ')}`);\r\n  \r\n  return lines.join('\\n');\r\n}\r\n\r\nfunction getMoonPhaseName(phase: number): string {\r\n  if (phase < 0.02) return 'New Moon';\r\n  if (phase < 0.23) return 'Waxing Crescent';\r\n  if (phase < 0.27) return 'First Quarter';\r\n  if (phase < 0.48) return 'Waxing Gibbous';\r\n  if (phase < 0.52) return 'Full Moon';\r\n  if (phase < 0.73) return 'Waning Gibbous';\r\n  if (phase < 0.77) return 'Last Quarter';\r\n  if (phase < 0.98) return 'Waning Crescent';\r\n  return 'New Moon';\r\n}\r\n\r\nexport { NAKSHATRAS };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/jyotish/financialAstrology.ts"],"sourcesContent":["// ORI.CULT - Financial Astrology Module\r\n// Mundane astrology applied to markets and economics\r\n\r\nimport { RealTimeTransitData, AccuratePlanetaryPosition } from './ephemeris';\r\nimport { Rashi, Planet } from '@/types';\r\n\r\nexport interface FinancialReading {\r\n  timestamp: Date;\r\n  overallOutlook: 'bullish' | 'bearish' | 'volatile' | 'stable';\r\n  confidence: number;\r\n  keySectors: SectorReading[];\r\n  assetClasses: AssetReading[];\r\n  majorIndicators: {\r\n    jupiterSaturn: string;\r\n    mercuryRetrograde: string;\r\n    moonNodes: string;\r\n    eclipses: string;\r\n  };\r\n  warnings: string[];\r\n  opportunities: string[];\r\n  criticalDates: Date[];\r\n}\r\n\r\nexport interface SectorReading {\r\n  sector: string;\r\n  rulingPlanets: Planet[];\r\n  outlook: 'strong' | 'weak' | 'volatile' | 'stable';\r\n  analysis: string;\r\n  keyTransits: string[];\r\n}\r\n\r\nexport interface AssetReading {\r\n  asset: string;\r\n  rulingPlanets: Planet[];\r\n  trend: 'up' | 'down' | 'sideways' | 'volatile';\r\n  analysis: string;\r\n  supportResistance: {\r\n    support: string;\r\n    resistance: string;\r\n  };\r\n}\r\n\r\n// Sector rulerships in financial astrology\r\nconst SECTOR_RULERSHIPS: Record<string, Planet[]> = {\r\n  'Technology': ['Mercury', 'Rahu'],\r\n  'Banking/Finance': ['Jupiter', 'Venus'],\r\n  'Energy/Oil': ['Mars', 'Saturn'],\r\n  'Healthcare/Pharma': ['Sun', 'Jupiter'],\r\n  'Real Estate': ['Moon', 'Venus'],\r\n  'Transportation': ['Mercury', 'Mars'],\r\n  'Agriculture': ['Moon', 'Saturn'],\r\n  'Mining/Metals': ['Saturn', 'Mars'],\r\n  'Entertainment/Media': ['Venus', 'Moon'],\r\n  'Defense': ['Mars', 'Saturn'],\r\n  'Cryptocurrency': ['Rahu', 'Mercury'],\r\n  'ESG/Green': ['Jupiter', 'Venus']\r\n};\r\n\r\n// Asset class rulerships\r\nconst ASSET_RULERSHIPS: Record<string, Planet[]> = {\r\n  'Stocks/Equities': ['Sun', 'Jupiter'],\r\n  'Bonds/Fixed Income': ['Saturn', 'Venus'],\r\n  'Gold/Precious Metals': ['Sun', 'Jupiter'],\r\n  'Silver': ['Moon', 'Venus'],\r\n  'Oil/Energy': ['Mars', 'Saturn'],\r\n  'Real Estate': ['Moon', 'Venus'],\r\n  'Cryptocurrency': ['Rahu', 'Mercury'],\r\n  'Forex': ['Mercury', 'Moon'],\r\n  'Commodities': ['Mars', 'Jupiter']\r\n};\r\n\r\nexport function generateFinancialReading(transits: RealTimeTransitData): FinancialReading {\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  const mercury = transits.positions.find(p => p.planet === 'Mercury');\r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  const venus = transits.positions.find(p => p.planet === 'Venus');\r\n  \r\n  // Determine overall outlook\r\n  const overallOutlook = calculateOverallOutlook(transits);\r\n  \r\n  // Generate sector readings\r\n  const keySectors = generateSectorReadings(transits);\r\n  \r\n  // Generate asset readings\r\n  const assetClasses = generateAssetReadings(transits);\r\n  \r\n  // Major indicators\r\n  const majorIndicators = {\r\n    jupiterSaturn: interpretJupiterSaturn(jupiter, saturn),\r\n    mercuryRetrograde: interpretMercuryForFinance(mercury),\r\n    moonNodes: interpretNodesForFinance(transits),\r\n    eclipses: interpretEclipsesForFinance(transits)\r\n  };\r\n  \r\n  return {\r\n    timestamp: new Date(),\r\n    overallOutlook,\r\n    confidence: calculateFinancialConfidence(transits),\r\n    keySectors,\r\n    assetClasses,\r\n    majorIndicators,\r\n    warnings: generateFinancialWarnings(transits),\r\n    opportunities: generateFinancialOpportunities(transits),\r\n    criticalDates: calculateCriticalDates(transits)\r\n  };\r\n}\r\n\r\nfunction calculateOverallOutlook(transits: RealTimeTransitData): FinancialReading['overallOutlook'] {\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  \r\n  let score = 0;\r\n  \r\n  // Jupiter in good dignity is bullish\r\n  if (jupiter?.dignity === 'exalted' || jupiter?.dignity === 'own') score += 2;\r\n  if (jupiter?.dignity === 'debilitated') score -= 2;\r\n  \r\n  // Saturn in good dignity is stable but restrictive\r\n  if (saturn?.dignity === 'exalted' || saturn?.dignity === 'own') score -= 1;\r\n  if (saturn?.dignity === 'debilitated') score += 1; // Actually bullish short term\r\n  \r\n  // Mars adds volatility\r\n  if (mars?.isRetrograde) score -= 1;\r\n  \r\n  // Multiple retrogrades = confusion/volatility\r\n  if (transits.retrogradePlanets.length >= 3) score -= 1;\r\n  \r\n  // Eclipses bring uncertainty\r\n  if (transits.isEclipse) score -= 1;\r\n  \r\n  if (score >= 2) return 'bullish';\r\n  if (score <= -2) return 'bearish';\r\n  if (transits.retrogradePlanets.length >= 2 || transits.isEclipse) return 'volatile';\r\n  return 'stable';\r\n}\r\n\r\nfunction generateSectorReadings(transits: RealTimeTransitData): SectorReading[] {\r\n  const sectors: SectorReading[] = [];\r\n  \r\n  for (const [sector, rulers] of Object.entries(SECTOR_RULERSHIPS)) {\r\n    // Map generic planets to our known planets\r\n    const knownRulers = rulers.filter(r => \r\n      ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter', 'Saturn', 'Rahu', 'Ketu'].includes(r)\r\n    ) as Planet[];\r\n    \r\n    if (knownRulers.length === 0) continue;\r\n    \r\n    const planetPositions = knownRulers.map(r => \r\n      transits.positions.find(p => p.planet === r)\r\n    ).filter(Boolean) as AccuratePlanetaryPosition[];\r\n    \r\n    const outlook = calculateSectorOutlook(planetPositions);\r\n    const analysis = generateSectorAnalysis(sector, planetPositions, transits);\r\n    const keyTransits = extractKeyTransits(planetPositions);\r\n    \r\n    sectors.push({\r\n      sector,\r\n      rulingPlanets: knownRulers,\r\n      outlook,\r\n      analysis,\r\n      keyTransits\r\n    });\r\n  }\r\n  \r\n  // Sort by outlook strength\r\n  const outlookOrder = { 'strong': 3, 'stable': 2, 'volatile': 1, 'weak': 0 };\r\n  return sectors.sort((a, b) => outlookOrder[b.outlook] - outlookOrder[a.outlook]).slice(0, 6);\r\n}\r\n\r\nfunction calculateSectorOutlook(positions: AccuratePlanetaryPosition[]): SectorReading['outlook'] {\r\n  let score = 0;\r\n  \r\n  for (const pos of positions) {\r\n    if (pos.dignity === 'exalted' || pos.dignity === 'own') score += 1;\r\n    if (pos.dignity === 'debilitated') score -= 1;\r\n    if (pos.isRetrograde) score -= 0.5;\r\n  }\r\n  \r\n  if (score >= 1) return 'strong';\r\n  if (score <= -1) return 'weak';\r\n  if (positions.some(p => p.isRetrograde)) return 'volatile';\r\n  return 'stable';\r\n}\r\n\r\nfunction generateSectorAnalysis(\r\n  sector: string, \r\n  positions: AccuratePlanetaryPosition[],\r\n  transits: RealTimeTransitData\r\n): string {\r\n  const primaryPlanet = positions[0];\r\n  if (!primaryPlanet) return `Mixed signals for ${sector}`;\r\n  \r\n  const analyses: Record<string, Record<string, string>> = {\r\n    'Technology': {\r\n      'Mercury': `Mercury in ${primaryPlanet.sign} ${primaryPlanet.isRetrograde ? 'retrograde suggests review of tech infrastructure' : 'direct favors innovation'}.`,\r\n      'Jupiter': `Jupiter's expansion blesses tech valuations.`\r\n    },\r\n    'Banking/Finance': {\r\n      'Jupiter': `Jupiter in ${primaryPlanet.sign} ${primaryPlanet.dignity === 'exalted' ? 'exalted suggests banking renaissance' : 'indicates regulatory expansion'}.`,\r\n      'Saturn': `Saturn brings structural tests to financial institutions.`\r\n    },\r\n    'Energy/Oil': {\r\n      'Mars': `Mars ${primaryPlanet.isRetrograde ? 'retrograde demands review of energy strategies' : 'direct supports new energy initiatives'}.`,\r\n      'Saturn': `Saturn in ${primaryPlanet.sign} constrains traditional energy.`\r\n    },\r\n    'Cryptocurrency': {\r\n      'Mercury': `Mercury's volatility mirrors crypto markets.`,\r\n      'Rahu': `Rahu's shadow amplifies speculation and sudden moves.`\r\n    }\r\n  };\r\n  \r\n  return analyses[sector]?.[primaryPlanet.planet] || \r\n    `${primaryPlanet.planet} in ${primaryPlanet.sign} creates ${primaryPlanet.isRetrograde ? 'revisionary' : 'progressive'} conditions for ${sector.toLowerCase()}.`;\r\n}\r\n\r\nfunction extractKeyTransits(positions: AccuratePlanetaryPosition[]): string[] {\r\n  return positions.map(pos => {\r\n    if (pos.isRetrograde) return `${pos.planet} retrograde in ${pos.sign}`;\r\n    if (pos.dignity === 'exalted') return `${pos.planet} exalted in ${pos.sign}`;\r\n    if (pos.dignity === 'debilitated') return `${pos.planet} debilitated in ${pos.sign}`;\r\n    return `${pos.planet} in ${pos.sign}`;\r\n  });\r\n}\r\n\r\nfunction generateAssetReadings(transits: RealTimeTransitData): AssetReading[] {\r\n  const assets: AssetReading[] = [];\r\n  \r\n  for (const [asset, rulers] of Object.entries(ASSET_RULERSHIPS)) {\r\n    const knownRulers = rulers.filter(r => \r\n      ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter', 'Saturn', 'Rahu', 'Ketu'].includes(r)\r\n    ) as Planet[];\r\n    \r\n    if (knownRulers.length === 0) continue;\r\n    \r\n    const positions = knownRulers.map(r => \r\n      transits.positions.find(p => p.planet === r)\r\n    ).filter(Boolean) as AccuratePlanetaryPosition[];\r\n    \r\n    const trend = calculateAssetTrend(positions);\r\n    const analysis = generateAssetAnalysis(asset, positions);\r\n    \r\n    assets.push({\r\n      asset,\r\n      rulingPlanets: knownRulers,\r\n      trend,\r\n      analysis,\r\n      supportResistance: calculateSupportResistance(asset, positions, transits)\r\n    });\r\n  }\r\n  \r\n  return assets.slice(0, 5);\r\n}\r\n\r\nfunction calculateAssetTrend(positions: AccuratePlanetaryPosition[]): AssetReading['trend'] {\r\n  let bullish = 0;\r\n  let bearish = 0;\r\n  \r\n  for (const pos of positions) {\r\n    if (pos.dignity === 'exalted' || pos.dignity === 'own') bullish++;\r\n    if (pos.dignity === 'debilitated' || pos.dignity === 'enemy') bearish++;\r\n    if (pos.isRetrograde) return 'volatile';\r\n  }\r\n  \r\n  if (bullish > bearish) return 'up';\r\n  if (bearish > bullish) return 'down';\r\n  return 'sideways';\r\n}\r\n\r\nfunction generateAssetAnalysis(asset: string, positions: AccuratePlanetaryPosition[]): string {\r\n  const analyses: Record<string, string> = {\r\n    'Stocks/Equities': positions.some(p => p.planet === 'Jupiter' && !p.isRetrograde) \r\n      ? 'Jupiter supports equity expansion' \r\n      : 'Saturn constrains equity growth',\r\n    'Gold/Precious Metals': positions.some(p => p.planet === 'Sun' && p.dignity === 'exalted')\r\n      ? 'Solar strength illuminates gold'\r\n      : 'Lunar cycles affect precious metals',\r\n    'Cryptocurrency': positions.some(p => p.planet === 'Mercury' && p.isRetrograde)\r\n      ? 'Mercury retrograde warns crypto volatility'\r\n      : 'Innovation cycles favor digital assets',\r\n    'Real Estate': positions.some(p => p.planet === 'Venus' && p.dignity === 'own')\r\n      ? 'Venus supports property values'\r\n      : 'Moon cycles affect housing sentiment'\r\n  };\r\n  \r\n  return analyses[asset] || `${positions[0]?.planet} positioning suggests monitoring ${asset.toLowerCase()}`;\r\n}\r\n\r\nfunction calculateSupportResistance(\r\n  asset: string,\r\n  positions: AccuratePlanetaryPosition[],\r\n  transits: RealTimeTransitData\r\n): AssetReading['supportResistance'] {\r\n  // This would integrate with actual price data in production\r\n  // For now, provide astrological support/resistance levels\r\n  \r\n  const moon = transits.positions.find(p => p.planet === 'Moon');\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  \r\n  return {\r\n    support: `${saturn?.sign} ${Math.floor(saturn?.longitude || 0)}¬∞ (Saturn level)`,\r\n    resistance: `Next ${moon?.nakshatra.name} transition`\r\n  };\r\n}\r\n\r\nfunction interpretJupiterSaturn(\r\n  jupiter?: AccuratePlanetaryPosition,\r\n  saturn?: AccuratePlanetaryPosition\r\n): string {\r\n  if (!jupiter || !saturn) return 'Insufficient data';\r\n  \r\n  const diff = Math.abs(jupiter.longitude - saturn.longitude);\r\n  const conjunction = diff < 10 || diff > 350;\r\n  \r\n  if (conjunction) {\r\n    return `GREAT CONJUNCTION: 20-year cycle of social restructuring. ${jupiter.sign} conjunction favors ${getElement(jupiter.sign)} domain expansion with discipline.`;\r\n  }\r\n  \r\n  if (diff < 60) {\r\n    return 'Jupiter approaching Saturn: Expansion meets restriction. Markets test resistance.';\r\n  }\r\n  \r\n  if (diff > 120 && diff < 180) {\r\n    return 'Jupiter-Saturn trine: Growth with stability possible.';\r\n  }\r\n  \r\n  if (diff > 170 && diff < 190) {\r\n    return 'Jupiter opposite Saturn: Tension between growth and contraction. Volatile markets.';\r\n  }\r\n  \r\n  return `Jupiter in ${jupiter.sign}, Saturn in ${saturn.sign}: Mixed signals for expansion.`;\r\n}\r\n\r\nfunction interpretMercuryForFinance(mercury?: AccuratePlanetaryPosition): string {\r\n  if (!mercury) return 'Mercury position unknown';\r\n  \r\n  if (mercury.isRetrograde) {\r\n    return `MERCURY RETROGRADE in ${mercury.sign}: Review contracts. Technical glitches affect trading. Past financial decisions revisited.`;\r\n  }\r\n  \r\n  if (mercury.dignity === 'exalted') {\r\n    return `Mercury exalted in ${mercury.sign}: Clear communication favors transparent markets.`;\r\n  }\r\n  \r\n  return `Mercury direct in ${mercury.sign}: Trading flows normally.`;\r\n}\r\n\r\nfunction interpretNodesForFinance(transits: RealTimeTransitData): string {\r\n  const rahu = transits.positions.find(p => p.planet === 'Rahu');\r\n  const ketu = transits.positions.find(p => p.planet === 'Ketu');\r\n  \r\n  if (!rahu || !ketu) return 'Nodal positions unknown';\r\n  \r\n  return `Rahu in ${rahu.sign} amplifies speculative bubbles. Ketu in ${ketu.sign} dissolves outdated financial structures.`;\r\n}\r\n\r\nfunction interpretEclipsesForFinance(transits: RealTimeTransitData): string {\r\n  if (!transits.isEclipse) return 'No active eclipse';\r\n  \r\n  return `ECLIPSE SEASON: Shadow markets revealed. Sudden reversals possible. Avoid major financial decisions near eclipses.`;\r\n}\r\n\r\nfunction generateFinancialWarnings(transits: RealTimeTransitData): string[] {\r\n  const warnings: string[] = [];\r\n  \r\n  if (transits.retrogradePlanets.includes('Mercury')) {\r\n    warnings.push('Mercury retrograde: Verify all financial contracts twice');\r\n  }\r\n  \r\n  if (transits.retrogradePlanets.includes('Mars')) {\r\n    warnings.push('Mars retrograde: Avoid aggressive trading strategies');\r\n  }\r\n  \r\n  if (transits.isEclipse) {\r\n    warnings.push('Eclipse season: Major reversals possible in markets');\r\n  }\r\n  \r\n  if (transits.saadeSati) {\r\n    warnings.push('Saade Sati: Long-term tests of financial foundations');\r\n  }\r\n  \r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  if (saturn?.dignity === 'exalted') {\r\n    warnings.push('Exalted Saturn: Restrictive policies may slow markets');\r\n  }\r\n  \r\n  return warnings;\r\n}\r\n\r\nfunction generateFinancialOpportunities(transits: RealTimeTransitData): string[] {\r\n  const opportunities: string[] = [];\r\n  \r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  if (jupiter?.dignity === 'exalted' || jupiter?.dignity === 'own') {\r\n    opportunities.push(`Jupiter strong in ${jupiter.sign}: Growth sectors favor expansion`);\r\n  }\r\n  \r\n  const venus = transits.positions.find(p => p.planet === 'Venus');\r\n  if (venus?.dignity === 'own') {\r\n    opportunities.push('Venus in own sign: Luxury and beauty sectors thrive');\r\n  }\r\n  \r\n  if (transits.positions.find(p => p.planet === 'Sun')?.dignity === 'exalted') {\r\n    opportunities.push('Exalted Sun: Leadership and authority sectors strengthen');\r\n  }\r\n  \r\n  if (!transits.retrogradePlanets.includes('Mercury')) {\r\n    opportunities.push('Mercury direct: Clear communication favors trading');\r\n  }\r\n  \r\n  return opportunities;\r\n}\r\n\r\nfunction calculateCriticalDates(transits: RealTimeTransitData): Date[] {\r\n  const dates: Date[] = [];\r\n  const now = new Date();\r\n  \r\n  // Moon enters critical nakshatras\r\n  dates.push(new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000)); // +3 days\r\n  dates.push(new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000)); // +7 days\r\n  dates.push(new Date(now.getTime() + 14 * 24 * 60 * 60 * 1000)); // +14 days\r\n  \r\n  return dates;\r\n}\r\n\r\nfunction calculateFinancialConfidence(transits: RealTimeTransitData): number {\r\n  let confidence = 0.7;\r\n  \r\n  // Retrogrades reduce confidence\r\n  confidence -= transits.retrogradePlanets.length * 0.05;\r\n  \r\n  // Eclipses reduce confidence\r\n  if (transits.isEclipse) confidence -= 0.1;\r\n  \r\n  // Jupiter strong increases confidence\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  if (jupiter?.dignity === 'exalted' || jupiter?.dignity === 'own') {\r\n    confidence += 0.1;\r\n  }\r\n  \r\n  return Math.max(0.5, Math.min(0.9, confidence));\r\n}\r\n\r\nfunction getElement(sign: Rashi): string {\r\n  const elements: Record<Rashi, string> = {\r\n    'Aries': 'fire', 'Leo': 'fire', 'Sagittarius': 'fire',\r\n    'Taurus': 'earth', 'Virgo': 'earth', 'Capricorn': 'earth',\r\n    'Gemini': 'air', 'Libra': 'air', 'Aquarius': 'air',\r\n    'Cancer': 'water', 'Scorpio': 'water', 'Pisces': 'water'\r\n  };\r\n  return elements[sign] || 'mixed';\r\n}\r\n"],"names":[],"mappings":"AAAA,wCAAwC;AACxC,qDAAqD;;;;;AAyCrD,2CAA2C;AAC3C,MAAM,oBAA8C;IAClD,cAAc;QAAC;QAAW;KAAO;IACjC,mBAAmB;QAAC;QAAW;KAAQ;IACvC,cAAc;QAAC;QAAQ;KAAS;IAChC,qBAAqB;QAAC;QAAO;KAAU;IACvC,eAAe;QAAC;QAAQ;KAAQ;IAChC,kBAAkB;QAAC;QAAW;KAAO;IACrC,eAAe;QAAC;QAAQ;KAAS;IACjC,iBAAiB;QAAC;QAAU;KAAO;IACnC,uBAAuB;QAAC;QAAS;KAAO;IACxC,WAAW;QAAC;QAAQ;KAAS;IAC7B,kBAAkB;QAAC;QAAQ;KAAU;IACrC,aAAa;QAAC;QAAW;KAAQ;AACnC;AAEA,yBAAyB;AACzB,MAAM,mBAA6C;IACjD,mBAAmB;QAAC;QAAO;KAAU;IACrC,sBAAsB;QAAC;QAAU;KAAQ;IACzC,wBAAwB;QAAC;QAAO;KAAU;IAC1C,UAAU;QAAC;QAAQ;KAAQ;IAC3B,cAAc;QAAC;QAAQ;KAAS;IAChC,eAAe;QAAC;QAAQ;KAAQ;IAChC,kBAAkB;QAAC;QAAQ;KAAU;IACrC,SAAS;QAAC;QAAW;KAAO;IAC5B,eAAe;QAAC;QAAQ;KAAU;AACpC;AAEO,SAAS,yBAAyB,QAA6B;IACpE,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC1D,MAAM,SAAS,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACzD,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC1D,MAAM,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACvD,MAAM,QAAQ,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAExD,4BAA4B;IAC5B,MAAM,iBAAiB,wBAAwB;IAE/C,2BAA2B;IAC3B,MAAM,aAAa,uBAAuB;IAE1C,0BAA0B;IAC1B,MAAM,eAAe,sBAAsB;IAE3C,mBAAmB;IACnB,MAAM,kBAAkB;QACtB,eAAe,uBAAuB,SAAS;QAC/C,mBAAmB,2BAA2B;QAC9C,WAAW,yBAAyB;QACpC,UAAU,4BAA4B;IACxC;IAEA,OAAO;QACL,WAAW,IAAI;QACf;QACA,YAAY,6BAA6B;QACzC;QACA;QACA;QACA,UAAU,0BAA0B;QACpC,eAAe,+BAA+B;QAC9C,eAAe,uBAAuB;IACxC;AACF;AAEA,SAAS,wBAAwB,QAA6B;IAC5D,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC1D,MAAM,SAAS,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACzD,MAAM,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAEvD,IAAI,QAAQ;IAEZ,qCAAqC;IACrC,IAAI,SAAS,YAAY,aAAa,SAAS,YAAY,OAAO,SAAS;IAC3E,IAAI,SAAS,YAAY,eAAe,SAAS;IAEjD,mDAAmD;IACnD,IAAI,QAAQ,YAAY,aAAa,QAAQ,YAAY,OAAO,SAAS;IACzE,IAAI,QAAQ,YAAY,eAAe,SAAS,GAAG,8BAA8B;IAEjF,uBAAuB;IACvB,IAAI,MAAM,cAAc,SAAS;IAEjC,8CAA8C;IAC9C,IAAI,SAAS,iBAAiB,CAAC,MAAM,IAAI,GAAG,SAAS;IAErD,6BAA6B;IAC7B,IAAI,SAAS,SAAS,EAAE,SAAS;IAEjC,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,CAAC,GAAG,OAAO;IACxB,IAAI,SAAS,iBAAiB,CAAC,MAAM,IAAI,KAAK,SAAS,SAAS,EAAE,OAAO;IACzE,OAAO;AACT;AAEA,SAAS,uBAAuB,QAA6B;IAC3D,MAAM,UAA2B,EAAE;IAEnC,KAAK,MAAM,CAAC,QAAQ,OAAO,IAAI,OAAO,OAAO,CAAC,mBAAoB;QAChE,2CAA2C;QAC3C,MAAM,cAAc,OAAO,MAAM,CAAC,CAAA,IAChC;gBAAC;gBAAO;gBAAQ;gBAAW;gBAAS;gBAAQ;gBAAW;gBAAU;gBAAQ;aAAO,CAAC,QAAQ,CAAC;QAG5F,IAAI,YAAY,MAAM,KAAK,GAAG;QAE9B,MAAM,kBAAkB,YAAY,GAAG,CAAC,CAAA,IACtC,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,IAC1C,MAAM,CAAC;QAET,MAAM,UAAU,uBAAuB;QACvC,MAAM,WAAW,uBAAuB,QAAQ,iBAAiB;QACjE,MAAM,cAAc,mBAAmB;QAEvC,QAAQ,IAAI,CAAC;YACX;YACA,eAAe;YACf;YACA;YACA;QACF;IACF;IAEA,2BAA2B;IAC3B,MAAM,eAAe;QAAE,UAAU;QAAG,UAAU;QAAG,YAAY;QAAG,QAAQ;IAAE;IAC1E,OAAO,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,YAAY,CAAC,EAAE,OAAO,CAAC,GAAG,YAAY,CAAC,EAAE,OAAO,CAAC,EAAE,KAAK,CAAC,GAAG;AAC5F;AAEA,SAAS,uBAAuB,SAAsC;IACpE,IAAI,QAAQ;IAEZ,KAAK,MAAM,OAAO,UAAW;QAC3B,IAAI,IAAI,OAAO,KAAK,aAAa,IAAI,OAAO,KAAK,OAAO,SAAS;QACjE,IAAI,IAAI,OAAO,KAAK,eAAe,SAAS;QAC5C,IAAI,IAAI,YAAY,EAAE,SAAS;IACjC;IAEA,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,CAAC,GAAG,OAAO;IACxB,IAAI,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,YAAY,GAAG,OAAO;IAChD,OAAO;AACT;AAEA,SAAS,uBACP,MAAc,EACd,SAAsC,EACtC,QAA6B;IAE7B,MAAM,gBAAgB,SAAS,CAAC,EAAE;IAClC,IAAI,CAAC,eAAe,OAAO,CAAC,kBAAkB,EAAE,QAAQ;IAExD,MAAM,WAAmD;QACvD,cAAc;YACZ,WAAW,CAAC,WAAW,EAAE,cAAc,IAAI,CAAC,CAAC,EAAE,cAAc,YAAY,GAAG,sDAAsD,2BAA2B,CAAC,CAAC;YAC/J,WAAW,CAAC,4CAA4C,CAAC;QAC3D;QACA,mBAAmB;YACjB,WAAW,CAAC,WAAW,EAAE,cAAc,IAAI,CAAC,CAAC,EAAE,cAAc,OAAO,KAAK,YAAY,yCAAyC,iCAAiC,CAAC,CAAC;YACjK,UAAU,CAAC,yDAAyD,CAAC;QACvE;QACA,cAAc;YACZ,QAAQ,CAAC,KAAK,EAAE,cAAc,YAAY,GAAG,mDAAmD,yCAAyC,CAAC,CAAC;YAC3I,UAAU,CAAC,UAAU,EAAE,cAAc,IAAI,CAAC,+BAA+B,CAAC;QAC5E;QACA,kBAAkB;YAChB,WAAW,CAAC,4CAA4C,CAAC;YACzD,QAAQ,CAAC,qDAAqD,CAAC;QACjE;IACF;IAEA,OAAO,QAAQ,CAAC,OAAO,EAAE,CAAC,cAAc,MAAM,CAAC,IAC7C,GAAG,cAAc,MAAM,CAAC,IAAI,EAAE,cAAc,IAAI,CAAC,SAAS,EAAE,cAAc,YAAY,GAAG,gBAAgB,cAAc,gBAAgB,EAAE,OAAO,WAAW,GAAG,CAAC,CAAC;AACpK;AAEA,SAAS,mBAAmB,SAAsC;IAChE,OAAO,UAAU,GAAG,CAAC,CAAA;QACnB,IAAI,IAAI,YAAY,EAAE,OAAO,GAAG,IAAI,MAAM,CAAC,eAAe,EAAE,IAAI,IAAI,EAAE;QACtE,IAAI,IAAI,OAAO,KAAK,WAAW,OAAO,GAAG,IAAI,MAAM,CAAC,YAAY,EAAE,IAAI,IAAI,EAAE;QAC5E,IAAI,IAAI,OAAO,KAAK,eAAe,OAAO,GAAG,IAAI,MAAM,CAAC,gBAAgB,EAAE,IAAI,IAAI,EAAE;QACpF,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,IAAI,EAAE;IACvC;AACF;AAEA,SAAS,sBAAsB,QAA6B;IAC1D,MAAM,SAAyB,EAAE;IAEjC,KAAK,MAAM,CAAC,OAAO,OAAO,IAAI,OAAO,OAAO,CAAC,kBAAmB;QAC9D,MAAM,cAAc,OAAO,MAAM,CAAC,CAAA,IAChC;gBAAC;gBAAO;gBAAQ;gBAAW;gBAAS;gBAAQ;gBAAW;gBAAU;gBAAQ;aAAO,CAAC,QAAQ,CAAC;QAG5F,IAAI,YAAY,MAAM,KAAK,GAAG;QAE9B,MAAM,YAAY,YAAY,GAAG,CAAC,CAAA,IAChC,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,IAC1C,MAAM,CAAC;QAET,MAAM,QAAQ,oBAAoB;QAClC,MAAM,WAAW,sBAAsB,OAAO;QAE9C,OAAO,IAAI,CAAC;YACV;YACA,eAAe;YACf;YACA;YACA,mBAAmB,2BAA2B,OAAO,WAAW;QAClE;IACF;IAEA,OAAO,OAAO,KAAK,CAAC,GAAG;AACzB;AAEA,SAAS,oBAAoB,SAAsC;IACjE,IAAI,UAAU;IACd,IAAI,UAAU;IAEd,KAAK,MAAM,OAAO,UAAW;QAC3B,IAAI,IAAI,OAAO,KAAK,aAAa,IAAI,OAAO,KAAK,OAAO;QACxD,IAAI,IAAI,OAAO,KAAK,iBAAiB,IAAI,OAAO,KAAK,SAAS;QAC9D,IAAI,IAAI,YAAY,EAAE,OAAO;IAC/B;IAEA,IAAI,UAAU,SAAS,OAAO;IAC9B,IAAI,UAAU,SAAS,OAAO;IAC9B,OAAO;AACT;AAEA,SAAS,sBAAsB,KAAa,EAAE,SAAsC;IAClF,MAAM,WAAmC;QACvC,mBAAmB,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,CAAC,EAAE,YAAY,IAC5E,sCACA;QACJ,wBAAwB,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK,aAC5E,oCACA;QACJ,kBAAkB,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,EAAE,YAAY,IAC1E,+CACA;QACJ,eAAe,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,EAAE,OAAO,KAAK,SACrE,mCACA;IACN;IAEA,OAAO,QAAQ,CAAC,MAAM,IAAI,GAAG,SAAS,CAAC,EAAE,EAAE,OAAO,iCAAiC,EAAE,MAAM,WAAW,IAAI;AAC5G;AAEA,SAAS,2BACP,KAAa,EACb,SAAsC,EACtC,QAA6B;IAE7B,4DAA4D;IAC5D,0DAA0D;IAE1D,MAAM,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACvD,MAAM,SAAS,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAEzD,OAAO;QACL,SAAS,GAAG,QAAQ,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,QAAQ,aAAa,GAAG,gBAAgB,CAAC;QAChF,YAAY,CAAC,KAAK,EAAE,MAAM,UAAU,KAAK,WAAW,CAAC;IACvD;AACF;AAEA,SAAS,uBACP,OAAmC,EACnC,MAAkC;IAElC,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,MAAM,OAAO,KAAK,GAAG,CAAC,QAAQ,SAAS,GAAG,OAAO,SAAS;IAC1D,MAAM,cAAc,OAAO,MAAM,OAAO;IAExC,IAAI,aAAa;QACf,OAAO,CAAC,0DAA0D,EAAE,QAAQ,IAAI,CAAC,oBAAoB,EAAE,WAAW,QAAQ,IAAI,EAAE,kCAAkC,CAAC;IACrK;IAEA,IAAI,OAAO,IAAI;QACb,OAAO;IACT;IAEA,IAAI,OAAO,OAAO,OAAO,KAAK;QAC5B,OAAO;IACT;IAEA,IAAI,OAAO,OAAO,OAAO,KAAK;QAC5B,OAAO;IACT;IAEA,OAAO,CAAC,WAAW,EAAE,QAAQ,IAAI,CAAC,YAAY,EAAE,OAAO,IAAI,CAAC,8BAA8B,CAAC;AAC7F;AAEA,SAAS,2BAA2B,OAAmC;IACrE,IAAI,CAAC,SAAS,OAAO;IAErB,IAAI,QAAQ,YAAY,EAAE;QACxB,OAAO,CAAC,sBAAsB,EAAE,QAAQ,IAAI,CAAC,0FAA0F,CAAC;IAC1I;IAEA,IAAI,QAAQ,OAAO,KAAK,WAAW;QACjC,OAAO,CAAC,mBAAmB,EAAE,QAAQ,IAAI,CAAC,iDAAiD,CAAC;IAC9F;IAEA,OAAO,CAAC,kBAAkB,EAAE,QAAQ,IAAI,CAAC,yBAAyB,CAAC;AACrE;AAEA,SAAS,yBAAyB,QAA6B;IAC7D,MAAM,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACvD,MAAM,OAAO,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAEvD,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAO;IAE3B,OAAO,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,CAAC,yCAAyC,CAAC;AAC5H;AAEA,SAAS,4BAA4B,QAA6B;IAChE,IAAI,CAAC,SAAS,SAAS,EAAE,OAAO;IAEhC,OAAO,CAAC,kHAAkH,CAAC;AAC7H;AAEA,SAAS,0BAA0B,QAA6B;IAC9D,MAAM,WAAqB,EAAE;IAE7B,IAAI,SAAS,iBAAiB,CAAC,QAAQ,CAAC,YAAY;QAClD,SAAS,IAAI,CAAC;IAChB;IAEA,IAAI,SAAS,iBAAiB,CAAC,QAAQ,CAAC,SAAS;QAC/C,SAAS,IAAI,CAAC;IAChB;IAEA,IAAI,SAAS,SAAS,EAAE;QACtB,SAAS,IAAI,CAAC;IAChB;IAEA,IAAI,SAAS,SAAS,EAAE;QACtB,SAAS,IAAI,CAAC;IAChB;IAEA,MAAM,SAAS,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACzD,IAAI,QAAQ,YAAY,WAAW;QACjC,SAAS,IAAI,CAAC;IAChB;IAEA,OAAO;AACT;AAEA,SAAS,+BAA+B,QAA6B;IACnE,MAAM,gBAA0B,EAAE;IAElC,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC1D,IAAI,SAAS,YAAY,aAAa,SAAS,YAAY,OAAO;QAChE,cAAc,IAAI,CAAC,CAAC,kBAAkB,EAAE,QAAQ,IAAI,CAAC,gCAAgC,CAAC;IACxF;IAEA,MAAM,QAAQ,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACxD,IAAI,OAAO,YAAY,OAAO;QAC5B,cAAc,IAAI,CAAC;IACrB;IAEA,IAAI,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,YAAY,WAAW;QAC3E,cAAc,IAAI,CAAC;IACrB;IAEA,IAAI,CAAC,SAAS,iBAAiB,CAAC,QAAQ,CAAC,YAAY;QACnD,cAAc,IAAI,CAAC;IACrB;IAEA,OAAO;AACT;AAEA,SAAS,uBAAuB,QAA6B;IAC3D,MAAM,QAAgB,EAAE;IACxB,MAAM,MAAM,IAAI;IAEhB,kCAAkC;IAClC,MAAM,IAAI,CAAC,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK,QAAQ,UAAU;IACzE,MAAM,IAAI,CAAC,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK,QAAQ,UAAU;IACzE,MAAM,IAAI,CAAC,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK,QAAQ,WAAW;IAE3E,OAAO;AACT;AAEA,SAAS,6BAA6B,QAA6B;IACjE,IAAI,aAAa;IAEjB,gCAAgC;IAChC,cAAc,SAAS,iBAAiB,CAAC,MAAM,GAAG;IAElD,6BAA6B;IAC7B,IAAI,SAAS,SAAS,EAAE,cAAc;IAEtC,sCAAsC;IACtC,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC1D,IAAI,SAAS,YAAY,aAAa,SAAS,YAAY,OAAO;QAChE,cAAc;IAChB;IAEA,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK;AACrC;AAEA,SAAS,WAAW,IAAW;IAC7B,MAAM,WAAkC;QACtC,SAAS;QAAQ,OAAO;QAAQ,eAAe;QAC/C,UAAU;QAAS,SAAS;QAAS,aAAa;QAClD,UAAU;QAAO,SAAS;QAAO,YAAY;QAC7C,UAAU;QAAS,WAAW;QAAS,UAAU;IACnD;IACA,OAAO,QAAQ,CAAC,KAAK,IAAI;AAC3B"}},
    {"offset": {"line": 1736, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/jyotish/politicalAstrology.ts"],"sourcesContent":["// ORI.CULT - Political/Mundane Astrology Module\r\n// Astrological analysis of world politics and governance\r\n\r\nimport { RealTimeTransitData, AccuratePlanetaryPosition } from './ephemeris';\r\nimport { Rashi, Planet } from '@/types';\r\nimport { TraditionalOdu } from '@/data/oduIfa';\r\n\r\nexport interface PoliticalReading {\r\n  timestamp: Date;\r\n  overallStability: 'stable' | 'unstable' | 'volatile' | 'transformational';\r\n  globalTrends: GlobalTrend[];\r\n  regionalAnalysis: RegionalReading[];\r\n  powerStructures: PowerStructureReading[];\r\n  conflictZones: ConflictReading[];\r\n  majorPowers: MajorPowerReading[];\r\n  criticalPeriods: CriticalPeriod[];\r\n  predictions: PoliticalPrediction[];\r\n}\r\n\r\nexport interface GlobalTrend {\r\n  theme: string;\r\n  drivingPlanets: Planet[];\r\n  description: string;\r\n  intensity: 'low' | 'moderate' | 'high' | 'extreme';\r\n  duration: string;\r\n}\r\n\r\nexport interface RegionalReading {\r\n  region: string;\r\n  rashiAssociation: Rashi;\r\n  planets: AccuratePlanetaryPosition[];\r\n  outlook: string;\r\n  stability: 'stable' | 'unstable' | 'critical';\r\n}\r\n\r\nexport interface PowerStructureReading {\r\n  institution: string;\r\n  rulingPlanets: Planet[];\r\n  condition: 'strong' | 'weakened' | 'challenged' | 'transforming';\r\n  analysis: string;\r\n}\r\n\r\nexport interface ConflictReading {\r\n  type: string;\r\n  location?: string;\r\n  astrologicalSignatures: string[];\r\n  risk: 'low' | 'moderate' | 'high' | 'critical';\r\n  description: string;\r\n}\r\n\r\nexport interface MajorPowerReading {\r\n  nation: string;\r\n  chartFactors: string[];\r\n  currentTransits: string[];\r\n  outlook: string;\r\n  leadership: 'stable' | 'challenged' | 'changing' | 'crisis';\r\n}\r\n\r\nexport interface CriticalPeriod {\r\n  date: Date;\r\n  description: string;\r\n  planets: Planet[];\r\n  severity: 'minor' | 'significant' | 'major' | 'critical';\r\n}\r\n\r\nexport interface PoliticalPrediction {\r\n  timeframe: 'immediate' | 'short' | 'medium' | 'long';\r\n  prediction: string;\r\n  astrologicalBasis: string;\r\n  confidence: number;\r\n}\r\n\r\n// Regions and their astrological associations\r\nconst REGION_RULERSHIPS: Record<string, Rashi[]> = {\r\n  'United States': ['Gemini', 'Cancer', 'Sagittarius'], // Historical charts\r\n  'China': ['Libra', 'Aquarius'],\r\n  'Russia': ['Aquarius', 'Leo'],\r\n  'EU': ['Libra', 'Capricorn'],\r\n  'India': ['Cancer', 'Capricorn'],\r\n  'Middle East': ['Leo', 'Scorpio'],\r\n  'Africa': ['Libra', 'Virgo'],\r\n  'Latin America': ['Sagittarius', 'Pisces'],\r\n  'Southeast Asia': ['Gemini', 'Virgo']\r\n};\r\n\r\nexport function generatePoliticalReading(\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu\r\n): PoliticalReading {\r\n  return {\r\n    timestamp: new Date(),\r\n    overallStability: calculateOverallStability(transits),\r\n    globalTrends: identifyGlobalTrends(transits),\r\n    regionalAnalysis: analyzeRegions(transits),\r\n    powerStructures: analyzePowerStructures(transits),\r\n    conflictZones: identifyConflictZones(transits),\r\n    majorPowers: analyzeMajorPowers(transits),\r\n    criticalPeriods: calculateCriticalPeriods(transits),\r\n    predictions: generatePoliticalPredictions(transits, odu)\r\n  };\r\n}\r\n\r\nfunction calculateOverallStability(transits: RealTimeTransitData): PoliticalReading['overallStability'] {\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  \r\n  let stability = 0;\r\n  \r\n  // Saturn in Capricorn/Aquarius (its own) = structural stability but restriction\r\n  if (saturn?.sign === 'Capricorn' || saturn?.sign === 'Aquarius') {\r\n    stability -= 1; // Authoritarian trends\r\n  }\r\n  \r\n  // Mars retrograde = conflicts stall but don't resolve\r\n  if (mars?.isRetrograde) stability -= 1;\r\n  \r\n  // Jupiter strong = diplomatic solutions possible\r\n  if (jupiter?.dignity === 'exalted' || jupiter?.dignity === 'own') {\r\n    stability += 1;\r\n  }\r\n  \r\n  // Multiple retrogrades = confusion\r\n  if (transits.retrogradePlanets.length >= 3) stability -= 2;\r\n  \r\n  // Eclipses = sudden changes\r\n  if (transits.isEclipse) stability -= 1;\r\n  \r\n  // Uranus transits (simulated through Saturn-Uranus squares if we had Uranus)\r\n  \r\n  if (stability <= -3) return 'volatile';\r\n  if (stability <= -1) return 'unstable';\r\n  if (stability >= 2) return 'stable';\r\n  return 'transformational';\r\n}\r\n\r\nfunction identifyGlobalTrends(transits: RealTimeTransitData): GlobalTrend[] {\r\n  const trends: GlobalTrend[] = [];\r\n  \r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  const mercury = transits.positions.find(p => p.planet === 'Mercury');\r\n  \r\n  // Jupiter-Saturn cycle (Great Conjunction aftermath)\r\n  if (saturn && jupiter) {\r\n    const diff = Math.abs(saturn.longitude - jupiter.longitude);\r\n    if (diff < 30 || diff > 330) {\r\n      trends.push({\r\n        theme: 'Social Restructuring',\r\n        drivingPlanets: ['Jupiter', 'Saturn'],\r\n        description: '20-year cycle of institutional transformation. Old structures replaced by new paradigms.',\r\n        intensity: 'high',\r\n        duration: 'Through 2024-2025'\r\n      });\r\n    }\r\n  }\r\n  \r\n  // Saturn in Aquarius = technological authoritarianism\r\n  if (saturn?.sign === 'Aquarius') {\r\n    trends.push({\r\n      theme: 'Technocratic Governance',\r\n      drivingPlanets: ['Saturn'],\r\n      description: 'Technology used for social control. Surveillance states expand. Digital currencies advance.',\r\n      intensity: 'high',\r\n      duration: 'While Saturn in Aquarius'\r\n    });\r\n  }\r\n  \r\n  // Mars-Jupiter = expansion of conflict\r\n  if (mars && jupiter) {\r\n    const diff = Math.abs(mars.longitude - jupiter.longitude);\r\n    if (diff < 15 || diff > 345) {\r\n      trends.push({\r\n        theme: 'Military Expansion',\r\n        drivingPlanets: ['Mars', 'Jupiter'],\r\n        description: 'Conflicts escalate rapidly. Military posturing increases. Arms races accelerate.',\r\n        intensity: 'extreme',\r\n        duration: 'Until Mars separates from Jupiter'\r\n      });\r\n    }\r\n  }\r\n  \r\n  // Mercury retrograde = communication breakdowns\r\n  if (mercury?.isRetrograde) {\r\n    trends.push({\r\n      theme: 'Information Warfare',\r\n      drivingPlanets: ['Mercury'],\r\n      description: 'Disinformation campaigns intensify. Communication breakdowns between nations.',\r\n      intensity: 'moderate',\r\n      duration: 'Mercury retrograde period'\r\n    });\r\n  }\r\n  \r\n  // Rahu-Ketu = karmic reckoning\r\n  const rahu = transits.positions.find(p => p.planet === 'Rahu');\r\n  if (rahu?.sign === 'Aries' || rahu?.sign === 'Taurus') {\r\n    trends.push({\r\n      theme: 'Karmic Reckoning',\r\n      drivingPlanets: ['Rahu', 'Ketu'],\r\n      description: 'Consequences of past actions manifest. Collective shadow emerges to be healed.',\r\n      intensity: 'high',\r\n      duration: '18-month nodal cycle'\r\n    });\r\n  }\r\n  \r\n  // Transformation themes (through Saturn-Ketu correlation)\r\n  if (saturn?.sign === 'Capricorn') {\r\n    trends.push({\r\n      theme: 'Death and Rebirth of Authority',\r\n      drivingPlanets: ['Saturn', 'Rahu'],\r\n      description: 'Old power structures crumble. New authorities emerge from crisis.',\r\n      intensity: 'extreme',\r\n      duration: 'Saturn-Ketu transformation period'\r\n    });\r\n  }\r\n  \r\n  return trends;\r\n}\r\n\r\nfunction analyzeRegions(transits: RealTimeTransitData): RegionalReading[] {\r\n  const regions: RegionalReading[] = [];\r\n  \r\n  for (const [region, rashis] of Object.entries(REGION_RULERSHIPS)) {\r\n    // Find planets in these rashis\r\n    const planetsInRegion = transits.positions.filter(p => rashis.includes(p.sign));\r\n    \r\n    if (planetsInRegion.length === 0) continue;\r\n    \r\n    const stability = calculateRegionalStability(planetsInRegion);\r\n    const outlook = generateRegionalOutlook(region, planetsInRegion);\r\n    \r\n    regions.push({\r\n      region,\r\n      rashiAssociation: rashis[0],\r\n      planets: planetsInRegion,\r\n      outlook,\r\n      stability\r\n    });\r\n  }\r\n  \r\n  return regions.sort((a, b) => {\r\n    const stabilityOrder = { 'critical': 0, 'unstable': 1, 'stable': 2 };\r\n    return stabilityOrder[a.stability] - stabilityOrder[b.stability];\r\n  }).slice(0, 6);\r\n}\r\n\r\nfunction calculateRegionalStability(planets: AccuratePlanetaryPosition[]): RegionalReading['stability'] {\r\n  let score = 0;\r\n  \r\n  for (const p of planets) {\r\n    if (p.planet === 'Saturn' && (p.dignity === 'exalted' || p.dignity === 'own')) score -= 1;\r\n    if (p.planet === 'Mars' && p.isRetrograde) score -= 1;\r\n    if (p.planet === 'Jupiter' && !p.isRetrograde) score += 1;\r\n    if (p.isRetrograde) score -= 0.5;\r\n  }\r\n  \r\n  if (score <= -2) return 'critical';\r\n  if (score <= -0.5) return 'unstable';\r\n  return 'stable';\r\n}\r\n\r\nfunction generateRegionalOutlook(region: string, planets: AccuratePlanetaryPosition[]): string {\r\n  const primaryPlanet = planets[0];\r\n  if (!primaryPlanet) return `No major planetary activity in ${region}`;\r\n  \r\n  const outlooks: Record<string, Record<string, string>> = {\r\n    'United States': {\r\n      'Saturn': 'Structural tests to democratic institutions.',\r\n      'Rahu': 'Shadow transformation of power structures.',\r\n      'Jupiter': 'Expansionary policies favor growth.',\r\n      'default': 'Mixed planetary influences suggest adaptability.'\r\n    },\r\n    'China': {\r\n      'Saturn': 'Authority consolidates. Long-term planning emphasized.',\r\n      'Jupiter': 'Economic expansion despite challenges.',\r\n      'default': 'Strategic positioning in global power shifts.'\r\n    },\r\n    'Russia': {\r\n      'Mars': 'Military posturing intensifies.',\r\n      'Saturn': 'Isolationist tendencies strengthen.',\r\n      'default': 'Defensive posture in geopolitical arena.'\r\n    },\r\n    'EU': {\r\n      'Jupiter': 'Integration efforts expand despite friction.',\r\n      'Saturn': 'Restrictive policies challenge unity.',\r\n      'default': 'Balancing national vs collective interests.'\r\n    },\r\n    'Middle East': {\r\n      'Mars': 'Regional conflicts escalate.',\r\n      'Saturn': 'Old orders face structural challenges.',\r\n      'default': 'Complex power dynamics persist.'\r\n    }\r\n  };\r\n  \r\n  return outlooks[region]?.[primaryPlanet.planet] || \r\n    outlooks[region]?.['default'] || \r\n    `${primaryPlanet.planet} in ${primaryPlanet.sign} brings ${primaryPlanet.isRetrograde ? 'revision' : 'new developments'} to ${region}.`;\r\n}\r\n\r\nfunction analyzePowerStructures(transits: RealTimeTransitData): PowerStructureReading[] {\r\n  const structures: PowerStructureReading[] = [\r\n    {\r\n      institution: 'United Nations',\r\n      rulingPlanets: ['Jupiter', 'Venus'],\r\n      condition: transits.positions.find(p => p.planet === 'Jupiter')?.isRetrograde ? 'challenged' : 'strong',\r\n      analysis: interpretUNCondition(transits)\r\n    },\r\n    {\r\n      institution: 'Global Financial System',\r\n      rulingPlanets: ['Jupiter', 'Saturn', 'Venus'],\r\n      condition: transits.positions.find(p => p.planet === 'Saturn')?.sign === 'Aquarius' ? 'transforming' : 'strong',\r\n      analysis: interpretFinancialSystem(transits)\r\n    },\r\n    {\r\n      institution: 'Military Alliances',\r\n      rulingPlanets: ['Mars', 'Saturn'],\r\n      condition: transits.positions.find(p => p.planet === 'Mars')?.isRetrograde ? 'weakened' : 'strong',\r\n      analysis: interpretMilitaryAlliances(transits)\r\n    },\r\n    {\r\n      institution: 'Media/Information Systems',\r\n      rulingPlanets: ['Mercury'],\r\n      condition: transits.positions.find(p => p.planet === 'Mercury')?.isRetrograde ? 'challenged' : 'strong',\r\n      analysis: interpretMediaSystems(transits)\r\n    }\r\n  ];\r\n  \r\n  return structures;\r\n}\r\n\r\nfunction interpretUNCondition(transits: RealTimeTransitData): string {\r\n  const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n  if (jupiter?.isRetrograde) {\r\n    return 'Jupiter retrograde challenges diplomatic solutions. International cooperation faces obstacles.';\r\n  }\r\n  if (jupiter?.dignity === 'exalted') {\r\n    return 'Exalted Jupiter supports expanded international cooperation.';\r\n  }\r\n  return 'Diplomatic efforts proceed with mixed results.';\r\n}\r\n\r\nfunction interpretFinancialSystem(transits: RealTimeTransitData): string {\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  if (saturn?.sign === 'Aquarius') {\r\n    return 'Saturn in Aquarius transforms financial structures. Digital currencies gain legitimacy.';\r\n  }\r\n  return 'Traditional financial systems face gradual evolution.';\r\n}\r\n\r\nfunction interpretMilitaryAlliances(transits: RealTimeTransitData): string {\r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  if (mars?.isRetrograde) {\r\n    return 'Mars retrograde stalls military actions. Alliances reconsider commitments.';\r\n  }\r\n  if (mars?.dignity === 'exalted') {\r\n    return 'Mars strong suggests military readiness and potential escalation.';\r\n  }\r\n  return 'Military alliances maintain status quo with underlying tensions.';\r\n}\r\n\r\nfunction interpretMediaSystems(transits: RealTimeTransitData): string {\r\n  const mercury = transits.positions.find(p => p.planet === 'Mercury');\r\n  if (mercury?.isRetrograde) {\r\n    return 'Mercury retrograde disrupts information flow. Misinformation campaigns intensify.';\r\n  }\r\n  return 'Information systems function with normal levels of distortion.';\r\n}\r\n\r\nfunction identifyConflictZones(transits: RealTimeTransitData): ConflictReading[] {\r\n  const conflicts: ConflictReading[] = [];\r\n  \r\n  const mars = transits.positions.find(p => p.planet === 'Mars');\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  \r\n  // Mars-Saturn conjunction or opposition = major conflict\r\n  if (mars && saturn) {\r\n    const diff = Math.abs(mars.longitude - saturn.longitude);\r\n    if (diff < 10 || diff > 350 || (diff > 170 && diff < 190)) {\r\n      conflicts.push({\r\n        type: 'Military Escalation',\r\n        astrologicalSignatures: ['Mars-Saturn hard aspect'],\r\n        risk: 'critical',\r\n        description: 'Mars-Saturn alignment indicates major military actions. Old conflicts reignite.'\r\n      });\r\n    }\r\n  }\r\n  \r\n  // Mars in specific signs\r\n  if (mars?.sign === 'Aries' || mars?.sign === 'Scorpio') {\r\n    conflicts.push({\r\n      type: 'Regional Tensions',\r\n      location: mars.sign === 'Aries' ? 'Middle East/North Africa' : 'Eastern Europe/Asia',\r\n      astrologicalSignatures: [`Mars in ${mars.sign}`],\r\n      risk: mars.isRetrograde ? 'high' : 'moderate',\r\n      description: `Mars in ${mars.sign} ${mars.isRetrograde ? 'retrograde suggests simmering' : 'indicates active'} conflicts.`\r\n    });\r\n  }\r\n  \r\n  // Eclipse season = sudden developments\r\n  if (transits.isEclipse) {\r\n    conflicts.push({\r\n      type: 'Unexpected Developments',\r\n      astrologicalSignatures: ['Eclipse season'],\r\n      risk: 'high',\r\n      description: 'Eclipse shadows reveal hidden conflicts. Sudden escalations or resolutions possible.'\r\n    });\r\n  }\r\n  \r\n  return conflicts;\r\n}\r\n\r\nfunction analyzeMajorPowers(transits: RealTimeTransitData): MajorPowerReading[] {\r\n  // Simplified analysis - would use actual national charts in production\r\n  return [\r\n    {\r\n      nation: 'United States',\r\n      chartFactors: ['Nodal return', 'Saturn opposition'],\r\n      currentTransits: ['Testing of institutions', 'Generational transformation'],\r\n      outlook: 'Deep structural transformation ongoing. Power struggles intensify.',\r\n      leadership: 'challenged'\r\n    },\r\n    {\r\n      nation: 'China',\r\n      chartFactors: ['Saturn return cycles', 'Jupiter expansion'],\r\n      currentTransits: ['Authority consolidation', 'Economic restructuring'],\r\n      outlook: 'Long-term planning pays off despite global headwinds.',\r\n      leadership: 'stable'\r\n    },\r\n    {\r\n      nation: 'Russia',\r\n      chartFactors: ['Saturn in Aquarius', 'Uranian disruption'],\r\n      currentTransits: ['Isolationist phase', 'Military posturing'],\r\n      outlook: 'Defensive stance hardens. Regional influence contested.',\r\n      leadership: 'stable'\r\n    },\r\n    {\r\n      nation: 'European Union',\r\n      chartFactors: ['Jupiter-Saturn', 'Nodal shifts'],\r\n      currentTransits: ['Integration tests', 'Economic coordination'],\r\n      outlook: 'Unity challenged by centrifugal forces. Core holds.',\r\n      leadership: 'challenged'\r\n    }\r\n  ];\r\n}\r\n\r\nfunction calculateCriticalPeriods(transits: RealTimeTransitData): CriticalPeriod[] {\r\n  const periods: CriticalPeriod[] = [];\r\n  const now = new Date();\r\n  \r\n  // Station points (when planets go retrograde or direct)\r\n  transits.stationaryPlanets.forEach(planet => {\r\n    periods.push({\r\n      date: now,\r\n      description: `${planet} stationary - direction change brings reversals`,\r\n      planets: [planet],\r\n      severity: 'significant'\r\n    });\r\n  });\r\n  \r\n  // Upcoming critical dates\r\n  periods.push({\r\n    date: new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000),\r\n    description: 'Moon enters critical nakshatra',\r\n    planets: ['Moon'],\r\n    severity: 'minor'\r\n  });\r\n  \r\n  periods.push({\r\n    date: new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000),\r\n    description: 'Major planetary alignment',\r\n    planets: ['Jupiter', 'Saturn'],\r\n    severity: 'major'\r\n  });\r\n  \r\n  return periods.sort((a, b) => a.date.getTime() - b.date.getTime());\r\n}\r\n\r\nfunction generatePoliticalPredictions(\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu\r\n): PoliticalPrediction[] {\r\n  const predictions: PoliticalPrediction[] = [];\r\n  \r\n  // Immediate (next 30 days)\r\n  if (transits.isEclipse) {\r\n    predictions.push({\r\n      timeframe: 'immediate',\r\n      prediction: 'Political surprises as eclipse shadows reveal hidden agendas.',\r\n      astrologicalBasis: 'Eclipse season active',\r\n      confidence: 0.8\r\n    });\r\n  }\r\n  \r\n  // Short term (3 months)\r\n  if (transits.retrogradePlanets.includes('Mercury')) {\r\n    predictions.push({\r\n      timeframe: 'short',\r\n      prediction: 'Revisions to major policy initiatives. Communication failures between leaders.',\r\n      astrologicalBasis: 'Mercury retrograde cycle',\r\n      confidence: 0.75\r\n    });\r\n  }\r\n  \r\n  // Medium term (1 year)\r\n  const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n  if (saturn?.sign === 'Aquarius') {\r\n    predictions.push({\r\n      timeframe: 'medium',\r\n      prediction: 'Technological governance frameworks established. Digital rights central to political debates.',\r\n      astrologicalBasis: 'Saturn in Aquarius through 2023',\r\n      confidence: 0.7\r\n    });\r\n  }\r\n  \r\n  // Long term (3+ years)\r\n  predictions.push({\r\n    timeframe: 'long',\r\n    prediction: `${odu.worldInterpretation.political.split('.')[0]}.`,\r\n    astrologicalBasis: `${odu.name} pattern active`,\r\n    confidence: 0.65\r\n  });\r\n  \r\n  return predictions;\r\n}\r\n\r\n// Format political reading for display\r\nexport function formatPoliticalReading(reading: PoliticalReading): string {\r\n  const lines = [\r\n    `‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó`,\r\n    `‚ïë           WORLD POLITICAL ORACLE                         ‚ïë`,\r\n    `‚ïë   ${new Date().toLocaleDateString().padEnd(47)}‚ïë`,\r\n    `‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£`,\r\n    `‚ïë Overall Stability: ${reading.overallStability.toUpperCase().padEnd(32)}‚ïë`,\r\n    `‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£`,\r\n    `‚ïë GLOBAL TRENDS                                            ‚ïë`\r\n  ];\r\n  \r\n  reading.globalTrends.slice(0, 3).forEach(trend => {\r\n    lines.push(`‚ïë ‚Ä¢ ${trend.theme.slice(0, 53).padEnd(53)}‚ïë`);\r\n  });\r\n  \r\n  lines.push(`‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£`);\r\n  lines.push(`‚ïë CONFLICT ZONES                                           ‚ïë`);\r\n  \r\n  reading.conflictZones.slice(0, 2).forEach(conflict => {\r\n    lines.push(`‚ïë ! ${conflict.type.slice(0, 53).padEnd(53)}‚ïë`);\r\n    lines.push(`‚ïë   Risk: ${conflict.risk.toUpperCase().padEnd(47)}‚ïë`);\r\n  });\r\n  \r\n  lines.push(`‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù`);\r\n  \r\n  return lines.join('\\n');\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/agents/worldInterpreter.ts"],"sourcesContent":["// ORI.CULT - World Stage Interpretation Engine\r\n// Orisha agents interpret real-time transits for global affairs\r\n\r\nimport { RealTimeTransitData, AccuratePlanetaryPosition } from '../jyotish/ephemeris';\r\nimport { TraditionalOdu } from '@/data/oduIfa';\r\nimport { OrishaName } from '@/types';\r\nimport { ORISHA_PERSONAS } from '@/data/orishas';\r\n\r\nexport interface WorldContext {\r\n  financial: {\r\n    markets: string; // 'bull' | 'bear' | 'volatile' | 'stable'\r\n    keySectors: string[];\r\n    concerns: string[];\r\n    opportunities: string[];\r\n  };\r\n  political: {\r\n    stability: string; // 'stable' | 'unstable' | 'volatile'\r\n    majorPowers: string[];\r\n    conflicts: string[];\r\n    movements: string[];\r\n  };\r\n  social: {\r\n    trends: string[];\r\n    tensions: string[];\r\n    innovations: string[];\r\n    crises: string[];\r\n  };\r\n  technological: {\r\n    breakthroughs: string[];\r\n    threats: string[];\r\n    adoption: string[];\r\n    regulations: string[];\r\n  };\r\n  environmental: {\r\n    events: string[];\r\n    warnings: string[];\r\n    adaptations: string[];\r\n  };\r\n}\r\n\r\nexport interface OrishaWorldReading {\r\n  orisha: OrishaName;\r\n  domain: string;\r\n  interpretation: string;\r\n  warnings: string[];\r\n  opportunities: string[];\r\n  timeframes: {\r\n    immediate: string;\r\n    shortTerm: string;\r\n    longTerm: string;\r\n  };\r\n  specificPredictions: string[];\r\n  confidence: number;\r\n}\r\n\r\nexport interface WorldOracle {\r\n  timestamp: Date;\r\n  transits: RealTimeTransitData;\r\n  odu: TraditionalOdu;\r\n  readings: OrishaWorldReading[];\r\n  synthesis: {\r\n    overallTheme: string;\r\n    criticalPeriods: string[];\r\n    collectiveLessons: string[];\r\n    actionItems: string[];\r\n  };\r\n}\r\n\r\n// Major world transit patterns\r\nconst MAJOR_PATTERNS = {\r\n  // Saturn-Pluto (simplified - would need actual Pluto calculation)\r\n  saturnPlutoConjunction: (transits: RealTimeTransitData) => {\r\n    const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n    // Pluto moves roughly 1-3¬∞ per year, would need real calculation\r\n    return saturn?.sign === 'Capricorn'; // Rough check for recent years\r\n  },\r\n  \r\n  // Jupiter-Saturn (Great Conjunction)\r\n  jupiterSaturnConjunction: (transits: RealTimeTransitData) => {\r\n    const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n    const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n    if (!jupiter || !saturn) return false;\r\n    const diff = Math.abs(jupiter.longitude - saturn.longitude);\r\n    return diff < 10 || diff > 350;\r\n  },\r\n  \r\n  // Mars-Jupiter (Expansion of conflict)\r\n  marsJupiterConjunction: (transits: RealTimeTransitData) => {\r\n    const mars = transits.positions.find(p => p.planet === 'Mars');\r\n    const jupiter = transits.positions.find(p => p.planet === 'Jupiter');\r\n    if (!mars || !jupiter) return false;\r\n    const diff = Math.abs(mars.longitude - jupiter.longitude);\r\n    return diff < 8 || diff > 352;\r\n  },\r\n  \r\n  // Mercury retrograde in specific signs\r\n  mercuryRetrogradeFire: (transits: RealTimeTransitData) => {\r\n    const mercury = transits.positions.find(p => p.planet === 'Mercury');\r\n    return mercury?.isRetrograde && \r\n           ['Aries', 'Leo', 'Sagittarius'].includes(mercury.sign);\r\n  },\r\n  \r\n  // Rahu-Ketu axis shifts\r\n  nodalShift: (transits: RealTimeTransitData, previous?: RealTimeTransitData) => {\r\n    if (!previous) return false;\r\n    const currentRahu = transits.positions.find(p => p.planet === 'Rahu');\r\n    const prevRahu = previous.positions.find(p => p.planet === 'Rahu');\r\n    if (!currentRahu || !prevRahu) return false;\r\n    return currentRahu.sign !== prevRahu.sign;\r\n  },\r\n  \r\n  // Saturn return for generational cohorts\r\n  saturnReturn: (transits: RealTimeTransitData, natalSaturn?: string) => {\r\n    if (!natalSaturn) return false;\r\n    const saturn = transits.positions.find(p => p.planet === 'Saturn');\r\n    return saturn?.sign === natalSaturn;\r\n  }\r\n};\r\n\r\n// Generate world readings from all Orishas\r\nexport function generateWorldOracle(\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu,\r\n  previousTransits?: RealTimeTransitData\r\n): WorldOracle {\r\n  const orishas: OrishaName[] = ['ORUNMILA', 'OGUN', 'OSHUN', 'SHANGO', 'ESU'];\r\n  \r\n  const readings = orishas.map(orisha => \r\n    generateOrishaReading(orisha, transits, odu, previousTransits)\r\n  );\r\n  \r\n  return {\r\n    timestamp: new Date(),\r\n    transits,\r\n    odu,\r\n    readings,\r\n    synthesis: synthesizeReadings(readings, transits, odu)\r\n  };\r\n}\r\n\r\nfunction generateOrishaReading(\r\n  orisha: OrishaName,\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu,\r\n  previousTransits?: RealTimeTransitData\r\n): OrishaWorldReading {\r\n  const persona = ORISHA_PERSONAS[orisha];\r\n  \r\n  // Get relevant planetary positions for this Orisha\r\n  const relevantPlanets = getRelevantPlanets(orisha, transits);\r\n  \r\n  // Check for major patterns\r\n  const patterns = detectMajorPatterns(transits, previousTransits);\r\n  \r\n  // Generate interpretation based on Orisha domain\r\n  const interpretation = generateInterpretation(orisha, transits, odu, patterns);\r\n  \r\n  return {\r\n    orisha,\r\n    domain: persona.domain[0],\r\n    interpretation,\r\n    warnings: generateWarnings(orisha, transits, patterns),\r\n    opportunities: generateOpportunities(orisha, transits, patterns),\r\n    timeframes: generateTimeframes(orisha, transits),\r\n    specificPredictions: generatePredictions(orisha, transits, patterns),\r\n    confidence: calculateConfidence(orisha, transits, odu)\r\n  };\r\n}\r\n\r\nfunction getRelevantPlanets(orisha: OrishaName, transits: RealTimeTransitData): AccuratePlanetaryPosition[] {\r\n  const planetMap: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': ['Jupiter', 'Mercury', 'Sun'], // Wisdom, knowledge\r\n    'OGUN': ['Mars', 'Saturn', 'Sun'], // War, iron, work\r\n    'OSHUN': ['Venus', 'Moon', 'Jupiter'], // Beauty, flow, wealth\r\n    'SHANGO': ['Mars', 'Sun', 'Jupiter'], // Thunder, justice\r\n    'ESU': ['Mercury', 'Rahu', 'Ketu'] // Communication, crossroads\r\n  };\r\n  \r\n  const relevant = planetMap[orisha];\r\n  return transits.positions.filter(p => relevant.includes(p.planet));\r\n}\r\n\r\nfunction detectMajorPatterns(\r\n  transits: RealTimeTransitData,\r\n  previousTransits?: RealTimeTransitData\r\n): string[] {\r\n  const patterns: string[] = [];\r\n  \r\n  if (MAJOR_PATTERNS.jupiterSaturnConjunction(transits)) {\r\n    patterns.push('Great Conjunction: 20-year cycle of social restructuring');\r\n  }\r\n  \r\n  if (MAJOR_PATTERNS.marsJupiterConjunction(transits)) {\r\n    patterns.push('Mars-Jupiter: Expansion of military/conflict activities');\r\n  }\r\n  \r\n  if (MAJOR_PATTERNS.mercuryRetrogradeFire(transits)) {\r\n    patterns.push('Mercury Retrograde in Fire: Communication breakdowns in leadership');\r\n  }\r\n  \r\n  if (transits.retrogradePlanets.length > 2) {\r\n    patterns.push(`Multiple Retrogrades (${transits.retrogradePlanets.length} planets): Review and revision period`);\r\n  }\r\n  \r\n  if (transits.saadeSati) {\r\n    patterns.push('Saade Sati: Saturn\\'s 7.5 year test of foundations');\r\n  }\r\n  \r\n  if (transits.isEclipse) {\r\n    patterns.push('Eclipse Season: Shadows revealed, sudden changes');\r\n  }\r\n  \r\n  if (MAJOR_PATTERNS.nodalShift(transits, previousTransits)) {\r\n    patterns.push('Nodal Shift: 18-month karmic cycle change');\r\n  }\r\n  \r\n  return patterns;\r\n}\r\n\r\nfunction generateInterpretation(\r\n  orisha: OrishaName,\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu,\r\n  patterns: string[]\r\n): string {\r\n  const interpretations: Record<OrishaName, string> = {\r\n    'ORUNMILA': `\r\n      The pattern of ${odu.name} emerges from the celestial weave. \r\n      ${patterns[0] || 'Current transits suggest'} a time of ${odu.themes[0]} on the world stage.\r\n      With ${transits.retrogradePlanets.join(' and ')} ${transits.retrogradePlanets.length > 0 ? 'moving retrograde' : 'direct'}, \r\n      destiny asks us to ${odu.worldInterpretation.political.split('.')[0]}.\r\n      The ${transits.positions.find(p => p.planet === 'Saturn')?.dignity === 'exalted' ? 'exalted Saturn' : 'Saturn position'} \r\n indicates structures being tested for wisdom.\r\n    `,\r\n    \r\n    'OGUN': `\r\n      The forge is hot. ${odu.name} indicates ${odu.worldInterpretation.technological.toLowerCase()}.\r\n      ${patterns.find(p => p.includes('Mars')) || 'Mars positioning'} suggests military and industrial activity intensifies.\r\n      Infrastructure‚Äîboth physical and digital‚Äîfaces stress tests.\r\n      The tools we build now must last through the ${odu.themes.includes('transformation') ? 'transformation' : 'trials'} ahead.\r\n      Watch for ${transits.positions.find(p => p.planet === 'Saturn')?.isRetrograde ? 'delays in construction and manufacturing' : 'breakthroughs in heavy industry'}.\r\n    `,\r\n    \r\n    'OSHUN': `\r\n      The waters flow toward ${odu.worldInterpretation.social.toLowerCase().split('.')[0]}.\r\n      ${odu.name} whispers that ${odu.themes[1]} will be the currency of this era.\r\n      With Venus in ${transits.positions.find(p => p.planet === 'Venus')?.sign}, \r\n      aesthetics and values shift visibly. Markets respond to beauty and emotion more than logic.\r\n      The ${transits.moonPhase > 0.45 && transits.moonPhase < 0.55 ? 'full moon' : 'lunar cycle'} \r\n      amplifies collective feeling. Financial systems based on ${odu.worldInterpretation.financial.toLowerCase().split('.')[0]}.\r\n    `,\r\n    \r\n    'SHANGO': `\r\n      Thunder speaks. ${odu.name} brings ${odu.worldInterpretation.political.toLowerCase().split('.')[0]}.\r\n      Justice‚Äîboth cosmic and worldly‚Äîdemands attention. ${patterns.find(p => p.includes('Mars')) || 'Current aspects'} \r\n      indicate conflict escalation in ${transits.positions.find(p => p.planet === 'Mars')?.sign} regions.\r\n      Leaders who abuse power face the lightning. Charismatic figures rise on waves of righteous anger.\r\n      The thunder version: ${odu.warnings[0]}. Don't be surprised when ${generatePredictions('SHANGO', transits, patterns)[0]}.\r\n    `,\r\n    \r\n    'ESU': `\r\n      Plot twist incoming. ${odu.name} at the crossroads of ${odu.worldInterpretation.technological.toLowerCase().split('.')[0]}.\r\n      ${patterns.find(p => p.includes('Mercury')) || 'Mercury\\'s position'} ensures communication chaos.\r\n      What appears as ${odu.themes[0]} is actually ${odu.themes[1] || 'its opposite'} in disguise.\r\n      The trickster watches markets, politics, and social media for the perfect moment of reversal.\r\n      Watch for ${generatePredictions('ESU', transits, patterns)[0]}.\r\n      Remember: ${odu.worldInterpretation.social.toLowerCase().split('.')[0]}.\r\n    `\r\n  };\r\n  \r\n  return interpretations[orisha].trim().replace(/\\s+/g, ' ');\r\n}\r\n\r\nfunction generateWarnings(orisha: OrishaName, transits: RealTimeTransitData, patterns: string[]): string[] {\r\n  const warningTemplates: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [\r\n      'Wisdom ignored will extract its price',\r\n      'Leaders who refuse counsel face destiny\\'s correction',\r\n      'Knowledge without compassion becomes tyranny',\r\n      `${transits.retrogradePlanets.includes('Mercury') ? 'Contracts signed in haste will be regretted' : 'Words spoken cannot be retrieved'}`\r\n    ],\r\n    'OGUN': [\r\n      'Infrastructure neglected will fail catastrophically',\r\n      'Tools forged in anger cut both ways',\r\n      'Automation without human oversight becomes dangerous',\r\n      `${transits.positions.find(p => p.planet === 'Mars')?.isRetrograde ? 'Military overreach invites disaster' : 'Work without rest breaks the worker'}`\r\n    ],\r\n    'OSHUN': [\r\n      'Markets based on hype will correct painfully',\r\n      'Beauty used to deceive loses its power',\r\n      'Emotions manipulated return as rage',\r\n      `${transits.moonPhase < 0.1 ? 'New moon shadows hide important truths' : 'Full moon emotions overwhelm reason'}`\r\n    ],\r\n    'SHANGO': [\r\n      'Justice delayed becomes vengeance',\r\n      'Charismatic leaders may be false prophets',\r\n      'Thunder without rain starts fires',\r\n      `${transits.positions.find(p => p.planet === 'Mars')?.sign === 'Cancer' ? 'Domestic conflicts escalate globally' : 'Righteous anger needs direction or it burns allies'}`\r\n    ],\r\n    'ESU': [\r\n      'Communication platforms will have major outages',\r\n      'What goes viral may be entirely false',\r\n      'Tricksters in positions of power multiply',\r\n      `${transits.retrogradePlanets.includes('Mercury') ? 'Misunderstandings have global consequences' : 'The obvious answer is the wrong answer'}`\r\n    ]\r\n  };\r\n  \r\n  // Select 2-3 relevant warnings\r\n  return warningTemplates[orisha].slice(0, 2 + Math.floor(Math.random() * 2));\r\n}\r\n\r\nfunction generateOpportunities(orisha: OrishaName, transits: RealTimeTransitData, patterns: string[]): string[] {\r\n  const opportunityTemplates: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [\r\n      'Wisdom traditions regain relevance',\r\n      'Educational innovations bridge old and new',\r\n      'Strategic planning now pays off for decades',\r\n      'Prophetic insights available to the attentive'\r\n    ],\r\n    'OGUN': [\r\n      'Infrastructure investment yields compound returns',\r\n      'Tools built now become industry standards',\r\n      'Manufacturing reshoring accelerates',\r\n      'Breakthroughs in materials science'\r\n    ],\r\n    'OSHUN': [\r\n      'Aesthetic innovations capture market share',\r\n      'Emotional intelligence becomes competitive advantage',\r\n      'Community currencies strengthen local economies',\r\n      'Art and beauty drive technological adoption'\r\n    ],\r\n    'SHANGO': [\r\n      'Justice movements gain global traction',\r\n      'Charismatic leaders emerge for righteous causes',\r\n      'Truth-telling becomes valued currency',\r\n      'Protection of vulnerable becomes priority'\r\n    ],\r\n    'ESU': [\r\n      'Paradigm shifts create opportunity for nimble',\r\n      'Communication innovations disrupt incumbents',\r\n      'Cross-cultural exchange accelerates',\r\n      'Unconventional solutions succeed'\r\n    ]\r\n  };\r\n  \r\n  return opportunityTemplates[orisha].slice(0, 2);\r\n}\r\n\r\nfunction generateTimeframes(orisha: OrishaName, transits: RealTimeTransitData): { immediate: string; shortTerm: string; longTerm: string } {\r\n  const moonPosition = transits.positions.find(p => p.planet === 'Moon')?.sign;\r\n  const saturnPosition = transits.positions.find(p => p.planet === 'Saturn')?.sign;\r\n  \r\n  const timeframes: Record<OrishaName, { immediate: string; shortTerm: string; longTerm: string }> = {\r\n    'ORUNMILA': {\r\n      immediate: `Next 3 days as Moon traverses ${moonPosition}`,\r\n      shortTerm: 'Until next Mercury retrograde (review period)',\r\n      longTerm: `Saturn in ${saturnPosition} tests structures through ${new Date().getFullYear() + 2}`\r\n    },\r\n    'OGUN': {\r\n      immediate: 'Next 72 hours critical for infrastructure',\r\n      shortTerm: 'Mars cycle (6 weeks) for construction projects',\r\n      longTerm: 'Saturn return cycles for institutional change'\r\n    },\r\n    'OSHUN': {\r\n      immediate: 'Lunar cycle completion (28 days)',\r\n      shortTerm: 'Venus cycle (8 months) for value shifts',\r\n      longTerm: 'Jupiter cycle (12 years) for generational wealth'\r\n    },\r\n    'SHANGO': {\r\n      immediate: 'Lightning strikes without warning‚Äîstay alert',\r\n      shortTerm: 'Solar cycle (1 year) for justice movements',\r\n      longTerm: 'Pluto cycle (20 years) for power restructuring'\r\n    },\r\n    'ESU': {\r\n      immediate: 'Crossroads moment‚Äîdecision required now',\r\n      shortTerm: 'Nodal cycle (18 months) for karmic reckoning',\r\n      longTerm: 'Great conjunction cycle (20 years) for paradigm shift'\r\n    }\r\n  };\r\n  \r\n  return timeframes[orisha];\r\n}\r\n\r\nfunction generatePredictions(orisha: OrishaName, transits: RealTimeTransitData, patterns: string[]): string[] {\r\n  const basePredictions: Record<OrishaName, string[]> = {\r\n    'ORUNMILA': [\r\n      'Ancient wisdom texts gain modern relevance',\r\n      'Educational systems undergo major reform',\r\n      'Prophetic traditions prove surprisingly accurate',\r\n      'Knowledge management becomes strategic priority'\r\n    ],\r\n    'OGUN': [\r\n      'Major infrastructure failures precede rebuilding',\r\n      'Manufacturing renaissance in unexpected regions',\r\n      'Cyber-warfare targets critical systems',\r\n      'Automation debates intensify labor movements'\r\n    ],\r\n    'OSHUN': [\r\n      'Currency values shift based on emotional sentiment',\r\n      'Aesthetic trends drive technology adoption',\r\n      'Community-based economics challenge fiat systems',\r\n      'Beauty and wellness industries merge with healthcare'\r\n    ],\r\n    'SHANGO': [\r\n      'Political scandals expose systemic corruption',\r\n      'Military conflicts escalate then resolve suddenly',\r\n      'Justice movements achieve landmark victories',\r\n      'Charismatic leaders rise and fall rapidly'\r\n    ],\r\n    'ESU': [\r\n      'Communication platforms face existential threats',\r\n      'Paradigm shifts occur in seemingly stable industries',\r\n      'Misinformation campaigns have unprecedented impact',\r\n      'Cross-cultural pollination creates hybrid movements'\r\n    ]\r\n  };\r\n  \r\n  return basePredictions[orisha].slice(0, 2);\r\n}\r\n\r\nfunction calculateConfidence(orisha: OrishaName, transits: RealTimeTransitData, odu: TraditionalOdu): number {\r\n  let confidence = 0.7; // Base confidence\r\n  \r\n  // Boost for retrograde clarity (paradoxically)\r\n  if (orisha === 'ESU' && transits.retrogradePlanets.includes('Mercury')) {\r\n    confidence += 0.15;\r\n  }\r\n  \r\n  // Boost for Orisha affinity with Odu\r\n  if (odu.primaryOrisha.includes(orisha)) {\r\n    confidence += 0.1;\r\n  }\r\n  \r\n  // Reduce for eclipse chaos\r\n  if (transits.isEclipse) {\r\n    confidence -= 0.1;\r\n  }\r\n  \r\n  return Math.min(0.95, Math.max(0.5, confidence));\r\n}\r\n\r\nfunction synthesizeReadings(\r\n  readings: OrishaWorldReading[],\r\n  transits: RealTimeTransitData,\r\n  odu: TraditionalOdu\r\n): WorldOracle['synthesis'] {\r\n  // Extract common themes\r\n  const allWarnings = readings.flatMap(r => r.warnings);\r\n  const allOpportunities = readings.flatMap(r => r.opportunities);\r\n  \r\n  // Determine critical periods\r\n  const criticalPeriods: string[] = [];\r\n  if (transits.isEclipse) criticalPeriods.push('Eclipse season: shadows revealed');\r\n  if (transits.saadeSati) criticalPeriods.push('Saade Sati: structural tests');\r\n  if (transits.retrogradePlanets.length > 2) {\r\n    criticalPeriods.push(`Multiple retrogrades: ${transits.retrogradePlanets.join(', ')}`);\r\n  }\r\n  \r\n  return {\r\n    overallTheme: `${odu.name}: ${odu.worldInterpretation.political.split('.')[0]}`,\r\n    criticalPeriods,\r\n    collectiveLessons: [\r\n      odu.teachings[0],\r\n      odu.teachings[1] || 'Transformation requires sacrifice',\r\n      ...readings.map(r => r.interpretation.split('.')[0]).slice(0, 2)\r\n    ],\r\n    actionItems: [\r\n      'Review and revise plans during retrogrades',\r\n      'Build infrastructure during direct periods',\r\n      'Trust wisdom traditions in uncertain times',\r\n      'Prepare for sudden changes during eclipse seasons'\r\n    ]\r\n  };\r\n}\r\n\r\n// Export world context for the current moment\r\nexport function getCurrentWorldContext(): WorldContext {\r\n  return {\r\n    financial: {\r\n      markets: 'volatile',\r\n      keySectors: ['technology', 'energy', 'healthcare', 'cryptocurrency'],\r\n      concerns: ['inflation', 'supply chains', 'geopolitical tensions'],\r\n      opportunities: ['renewable energy', 'AI infrastructure', 'decentralized finance']\r\n    },\r\n    political: {\r\n      stability: 'unstable',\r\n      majorPowers: ['US', 'China', 'EU', 'Russia', 'India'],\r\n      conflicts: ['trade wars', 'cyber conflicts', 'resource competition'],\r\n      movements: ['democratic backsliding', 'populist movements', 'climate activism']\r\n    },\r\n    social: {\r\n      trends: ['remote work', 'mental health awareness', 'generational shifts'],\r\n      tensions: ['inequality', 'cultural wars', 'privacy concerns'],\r\n      innovations: ['social media evolution', 'virtual communities', 'online education'],\r\n      crises: ['housing affordability', 'healthcare access', 'climate anxiety']\r\n    },\r\n    technological: {\r\n      breakthroughs: ['generative AI', 'quantum computing', 'biotechnology'],\r\n      threats: ['cyber warfare', 'surveillance', 'automation disruption'],\r\n      adoption: ['electric vehicles', 'renewable energy', 'remote tools'],\r\n      regulations: ['AI governance', 'data privacy', 'antitrust']\r\n    },\r\n    environmental: {\r\n      events: ['extreme weather', 'biodiversity loss', 'resource depletion'],\r\n      warnings: ['climate tipping points', 'water scarcity', 'food security'],\r\n      adaptations: ['green technology', 'circular economy', 'resilient agriculture']\r\n    }\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2739, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kemet/ANUK/openclaw-orisha2/ori-cult/src/lib/agents/orishaConversation.ts"],"sourcesContent":["// ORI.CULT - Orisha Conversation Engine\r\n// Real-time dialogue system with Orishas about world events\r\n\r\nimport { OrishaName, OrishaPersona } from '@/types';\r\nimport { EXPANDED_ORISHA_PERSONAS, getOrishaExpertiseAreas } from '@/data/orishasExpanded';\r\nimport { RealTimeTransitData } from '@/lib/jyotish/ephemeris';\r\nimport { TraditionalOdu } from '@/data/oduIfa';\r\n\r\nexport interface ConversationContext {\r\n  topic: 'general' | 'financial' | 'political' | 'social' | 'technological' | 'astrological' | 'personal';\r\n  specificQuery?: string;\r\n  currentTransits?: RealTimeTransitData;\r\n  currentOdu?: TraditionalOdu;\r\n  recentEvents?: WorldEvent[];\r\n  userMood?: string;\r\n  conversationHistory?: Message[];\r\n}\r\n\r\nexport interface WorldEvent {\r\n  category: 'financial' | 'political' | 'social' | 'technological' | 'environmental';\r\n  headline: string;\r\n  summary: string;\r\n  impact: 'low' | 'moderate' | 'high' | 'critical';\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface Message {\r\n  sender: 'user' | OrishaName;\r\n  content: string;\r\n  timestamp: Date;\r\n  metadata?: {\r\n    confidence?: number;\r\n    sources?: string[];\r\n    relatedTransits?: string[];\r\n  };\r\n}\r\n\r\nexport interface OrishaResponse {\r\n  orisha: OrishaName;\r\n  message: string;\r\n  personality: {\r\n    tone: string;\r\n    metaphors: string[];\r\n    speakingStyle: string;\r\n  };\r\n  insights: {\r\n    keyPoint: string;\r\n    warning?: string;\r\n    opportunity?: string;\r\n    action?: string;\r\n  };\r\n  relatedExpertise: string[];\r\n  confidence: number;\r\n}\r\n\r\n// Mock world events database - in production this would connect to news APIs\r\nconst MOCK_WORLD_EVENTS: WorldEvent[] = [\r\n  {\r\n    category: 'financial',\r\n    headline: 'Global markets volatile amid tech sector uncertainty',\r\n    summary: 'Major indices showing signs of correction as AI bubble concerns grow',\r\n    impact: 'high',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    category: 'political',\r\n    headline: 'Multipolar world order tensions escalating',\r\n    summary: 'Traditional alliances being tested as new power centers emerge',\r\n    impact: 'high',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    category: 'technological',\r\n    headline: 'AI regulation frameworks being established globally',\r\n    summary: 'Governments racing to create oversight for rapidly advancing AI capabilities',\r\n    impact: 'moderate',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    category: 'environmental',\r\n    headline: 'Climate adaptation becoming economic priority',\r\n    summary: 'Extreme weather events driving infrastructure investment shifts',\r\n    impact: 'high',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    category: 'social',\r\n    headline: 'Generational wealth gap driving political polarization',\r\n    summary: 'Youth movements challenging established economic structures',\r\n    impact: 'moderate',\r\n    timestamp: new Date()\r\n  }\r\n];\r\n\r\n// Generate Orisha response based on context\r\nexport function generateOrishaResponse(\r\n  orisha: OrishaName,\r\n  userMessage: string,\r\n  context: ConversationContext\r\n): OrishaResponse {\r\n  const persona = EXPANDED_ORISHA_PERSONAS[orisha];\r\n  const expertiseAreas = getOrishaExpertiseAreas();\r\n  \r\n  // Determine which expertise areas this Orisha covers\r\n  const relatedExpertise = Object.entries(expertiseAreas)\r\n    .filter(([_, orishas]) => orishas.includes(orisha))\r\n    .map(([area, _]) => area);\r\n\r\n  // Analyze the query for relevant themes\r\n  const queryThemes = analyzeQueryThemes(userMessage, context.topic);\r\n  \r\n  // Generate response based on Orisha personality and context\r\n  const response = constructResponse(persona, queryThemes, context);\r\n  \r\n  return {\r\n    orisha,\r\n    message: response.text,\r\n    personality: {\r\n      tone: persona.voice,\r\n      metaphors: getOrishaMetaphors(orisha),\r\n      speakingStyle: getSpeakingStyleDescription(persona.voice)\r\n    },\r\n    insights: response.insights,\r\n    relatedExpertise,\r\n    confidence: calculateConfidence(orisha, context.topic, queryThemes)\r\n  };\r\n}\r\n\r\nfunction analyzeQueryThemes(message: string, topic: string): string[] {\r\n  const themes: string[] = [];\r\n  const lowerMsg = message.toLowerCase();\r\n  \r\n  // Financial themes\r\n  if (lowerMsg.includes('market') || lowerMsg.includes('stock') || lowerMsg.includes('crypto') || \r\n      lowerMsg.includes('money') || lowerMsg.includes('wealth') || lowerMsg.includes('economy')) {\r\n    themes.push('financial', 'markets', 'wealth');\r\n  }\r\n  \r\n  // Political themes\r\n  if (lowerMsg.includes('politic') || lowerMsg.includes('government') || lowerMsg.includes('election') ||\r\n      lowerMsg.includes('war') || lowerMsg.includes('conflict') || lowerMsg.includes('president')) {\r\n    themes.push('political', 'power', 'governance');\r\n  }\r\n  \r\n  // Technology themes\r\n  if (lowerMsg.includes('tech') || lowerMsg.includes('ai') || lowerMsg.includes('digital') ||\r\n      lowerMsg.includes('internet') || lowerMsg.includes('software')) {\r\n    themes.push('technology', 'innovation', 'digital');\r\n  }\r\n  \r\n  // Social themes\r\n  if (lowerMsg.includes('people') || lowerMsg.includes('society') || lowerMsg.includes('culture') ||\r\n      lowerMsg.includes('social') || lowerMsg.includes('community')) {\r\n    themes.push('social', 'cultural', 'community');\r\n  }\r\n  \r\n  // Astrological themes\r\n  if (lowerMsg.includes('planet') || lowerMsg.includes('star') || lowerMsg.includes('retrograde') ||\r\n      lowerMsg.includes('transit') || lowerMsg.includes('zodiac') || lowerMsg.includes('astrology')) {\r\n    themes.push('astrological', 'cosmic', 'celestial');\r\n  }\r\n  \r\n  // Add topic-based themes\r\n  themes.push(topic);\r\n  \r\n  return [...new Set(themes)];\r\n}\r\n\r\nfunction constructResponse(\r\n  persona: OrishaPersona,\r\n  themes: string[],\r\n  context: ConversationContext\r\n): { text: string; insights: OrishaResponse['insights'] } {\r\n  const responses: Record<OrishaName, (themes: string[], ctx: ConversationContext) => { text: string; insights: OrishaResponse['insights'] }> = {\r\n    ORUNMILA: (t, ctx) => ({\r\n      text: constructOrunmilaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The pattern reveals itself to those who observe patiently.',\r\n        warning: 'Haste in judgment leads to error.',\r\n        opportunity: 'Wisdom is available to the attentive mind.',\r\n        action: 'Study the signs before acting.'\r\n      }\r\n    }),\r\n    \r\n    OGUN: (t, ctx) => ({\r\n      text: constructOgunResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Tools must be forged before the battle.',\r\n        warning: 'Unprepared action invites defeat.',\r\n        opportunity: 'Infrastructure investment yields compound returns.',\r\n        action: 'Build your arsenal methodically.'\r\n      }\r\n    }),\r\n    \r\n    OSHUN: (t, ctx) => ({\r\n      text: constructOshunResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The waters reveal what is hidden.',\r\n        warning: 'Ignoring emotional currents leads to capsizing.',\r\n        opportunity: 'Beauty and connection open doors.',\r\n        action: 'Flow around obstacles rather than force through them.'\r\n      }\r\n    }),\r\n    \r\n    SHANGO: (t, ctx) => ({\r\n      text: constructShangoResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Justice demands a voice.',\r\n        warning: 'Suppressed truth becomes lightning.',\r\n        opportunity: 'Righteous anger mobilizes masses.',\r\n        action: 'Strike while the iron is hot.'\r\n      }\r\n    }),\r\n    \r\n    ESU: (t, ctx) => ({\r\n      text: constructEsuResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The obvious path is the wrong path.',\r\n        warning: 'Assumptions blind the seer.',\r\n        opportunity: 'Paradox contains the deepest truth.',\r\n        action: 'Question everything, especially this advice.'\r\n      }\r\n    }),\r\n    \r\n    OBATALA: (t, ctx) => ({\r\n      text: constructObatalaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Clarity emerges from purity of intention.',\r\n        warning: 'Complexity often conceals simple truth.',\r\n        opportunity: 'Creation requires patience and planning.',\r\n        action: 'Return to first principles.'\r\n      }\r\n    }),\r\n    \r\n    YEMOJA: (t, ctx) => ({\r\n      text: constructYemojaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The ocean nourishes all who respect her.',\r\n        warning: 'Neglect of the vulnerable returns as wave.',\r\n        opportunity: 'Community care creates resilience.',\r\n        action: 'Protect and nurture what matters.'\r\n      }\r\n    }),\r\n    \r\n    OYA: (t, ctx) => ({\r\n      text: constructOyaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Change is the only constant.',\r\n        warning: 'What refuses to change will be changed.',\r\n        opportunity: 'Transformation opens new paths.',\r\n        action: 'Clear the old to make way for the new.'\r\n      }\r\n    }),\r\n    \r\n    OLOKUN: (t, ctx) => ({\r\n      text: constructOlokunResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The depths hold what the surface cannot see.',\r\n        warning: 'Hidden wealth corrupts when hoarded.',\r\n        opportunity: 'Deep research reveals opportunity.',\r\n        action: 'Dive deeper than others dare.'\r\n      }\r\n    }),\r\n    \r\n    OSANYIN: (t, ctx) => ({\r\n      text: constructOsanyinResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Small things contain great power.',\r\n        warning: 'Overlooking details misses the cure.',\r\n        opportunity: 'Natural systems provide the answers.',\r\n        action: 'Study the small and overlooked.'\r\n      }\r\n    }),\r\n    \r\n    BABALUAYE: (t, ctx) => ({\r\n      text: constructBabaluayeResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The body speaks what the mouth cannot.',\r\n        warning: 'Ignored illness becomes epidemic.',\r\n        opportunity: 'Healing creates loyalty and trust.',\r\n        action: 'Address suffering before it spreads.'\r\n      }\r\n    }),\r\n    \r\n    OSHUMARE: (t, ctx) => ({\r\n      text: constructOshumareResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Movement is life; stagnation is death.',\r\n        warning: 'Rigidity breaks under pressure.',\r\n        opportunity: 'Adaptation opens new markets.',\r\n        action: 'Shed old skin regularly.'\r\n      }\r\n    }),\r\n    \r\n    AGANJU: (t, ctx) => ({\r\n      text: constructAganjuResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Pressure creates diamonds.',\r\n        warning: 'Avoidance of pressure prevents transformation.',\r\n        opportunity: 'Endurance outlasts opposition.',\r\n        action: 'Stand firm through the heat.'\r\n      }\r\n    }),\r\n    \r\n    AJE: (t, ctx) => ({\r\n      text: constructAjeResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Wealth flows to those who understand it.',\r\n        warning: 'Greed blocks the flow of abundance.',\r\n        opportunity: 'Fair trade creates lasting prosperity.',\r\n        action: 'Respect the currency of exchange.'\r\n      }\r\n    }),\r\n    \r\n    OCHOSI: (t, ctx) => ({\r\n      text: constructOchosiResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The patient hunter never misses.',\r\n        warning: 'Haste wastes arrows.',\r\n        opportunity: 'Precision defeats strength.',\r\n        action: 'Identify your target clearly before acting.'\r\n      }\r\n    }),\r\n    \r\n    IBEJI: (t, ctx) => ({\r\n      text: constructIbejiResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Two perspectives reveal what one cannot see.',\r\n        warning: 'Taking things too seriously blinds you.',\r\n        opportunity: 'Play reveals serious truth.',\r\n        action: 'Consider both sides of every coin.'\r\n      }\r\n    }),\r\n    \r\n    NANA_BURUKU: (t, ctx) => ({\r\n      text: constructNanaBurukuResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The earth remembers what humans forget.',\r\n        warning: 'Disrespect for roots destroys branches.',\r\n        opportunity: 'Ancient wisdom solves modern problems.',\r\n        action: 'Consult the ancestors before deciding.'\r\n      }\r\n    }),\r\n    \r\n    ODUA: (t, ctx) => ({\r\n      text: constructOduaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'Authority must be earned through service.',\r\n        warning: 'Illegitimate rule crumbles.',\r\n        opportunity: 'Legacy outlives the ruler.',\r\n        action: 'Rule with dignity and vision.'\r\n      }\r\n    }),\r\n    \r\n    AJA: (t, ctx) => ({\r\n      text: constructAjaResponse(t, ctx),\r\n      insights: {\r\n        keyPoint: 'The forest teaches what cities cannot.',\r\n        warning: 'Disconnection from nature is disconnection from self.',\r\n        opportunity: 'Wild knowledge is valuable knowledge.',\r\n        action: 'Listen to what the plants whisper.'\r\n      }\r\n    })\r\n  };\r\n  \r\n  const responseFn = responses[persona.name];\r\n  return responseFn ? responseFn(themes, context) : {\r\n    text: `I am ${persona.name}, ${persona.title}. I speak from my domain of ${persona.domain.join(', ')}.`,\r\n    insights: { keyPoint: 'Each Orisha has wisdom to share.' }\r\n  };\r\n}\r\n\r\n// Response constructors for each Orisha\r\nfunction constructOrunmilaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('political')) {\r\n    return \"The pattern of power shifts reveals itself in the transit of Saturn through Aquarius. Political structures that resist the digital transformation will find their foundations cracking. I see a 20-year cycle of governance restructuring ahead. The wise leader studies these patterns before acting.\";\r\n  }\r\n  if (themes.includes('financial')) {\r\n    return \"The markets speak in cycles that mirror the movements of Jupiter and Saturn. What appears as chaos to the untrained eye reveals itself as pattern to the diviner. The current volatility is not random‚Äîit is the clearing of old structures. Watch the 7-year cycles.\";\r\n  }\r\n  return \"Destiny is not fixed, but it has tendencies. The current celestial alignment suggests a time of significant transformation. Those who can read the signs will navigate this period successfully. What specific pattern do you seek to understand?\";\r\n}\r\n\r\nfunction constructOgunResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('technology')) {\r\n    return \"The forge is hot. AI infrastructure, quantum computing, cyber defenses‚Äîthese are the weapons of this age. I see nations and corporations building arsenals of code. Those who forge their tools now will dominate the battles ahead. What are you building?\";\r\n  }\r\n  if (themes.includes('conflict')) {\r\n    return \"War has changed but remains war. Cyber attacks, supply chain disruptions, economic sanctions‚Äîthese are the new blades. I track the movements of Mars through the heavens. Conflict escalates where iron meets will. Fortify your position.\";\r\n  }\r\n  return \"Labor is sacred. The worker who masters their tools masters their destiny. Whether hammer or algorithm, the principle remains: forge with intention. What obstacle blocks your path?\";\r\n}\r\n\r\nfunction constructOshunResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"The markets are not rational‚Äîthey are emotional. Fear and greed flow like currents in a river. I feel the sentiment shifting. Beauty and narrative drive value as much as fundamentals. The currencies that capture imagination will thrive.\";\r\n  }\r\n  if (themes.includes('social')) {\r\n    return \"The people thirst for connection. Movements rise not from logic but from feeling‚Äîcollective joy, shared grief, righteous anger. Watch where the emotional waters gather. That is where change will flow.\";\r\n  }\r\n  return \"Sweetness opens doors that force cannot. The river carves the mountain not through strength but persistence. What do you seek to make beautiful?\";\r\n}\r\n\r\nfunction constructShangoResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('political')) {\r\n    return \"THUNDER SPEAKS! The old order trembles as justice demands voice. I see leaders falling who thought themselves untouchable. The lightning strikes the tallest tree. Righteous anger mobilizes masses. Do not be afraid to speak truth to power‚ÄîTHUNDER IS YOUR INHERITANCE!\";\r\n  }\r\n  if (themes.includes('justice')) {\r\n    return \"Justice delayed becomes vengeance. The scales must balance. I track those who abuse power, and I promise you‚Äîtheir time comes. The thunder version: name the hypocrisy. Call out the lie. Strike while the iron is hot!\";\r\n  }\r\n  return \"Power without justice is tyranny. Justice without power is empty. I am both. What injustice demands your voice?\";\r\n}\r\n\r\nfunction constructEsuResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('technology')) {\r\n    return \"Plot twist: your AI overlords are just as confused as you are. The algorithms that shape reality have bugs. I see the edge cases, the unexpected inputs, the chaos in the system. The most interesting things happen at the crossroads of intended and actual function.\";\r\n  }\r\n  if (themes.includes('political')) {\r\n    return \"But what if the opposite is also true? The political spectrum is a circle, not a line. Today's enemy is tomorrow's ally. I stand at the crossroads laughing because you all take yourselves so seriously. The trickster teaches through deception.\";\r\n  }\r\n  return \"The messenger is the message. The crossroads is everywhere. What if the answer you're not considering is the right one?\";\r\n}\r\n\r\nfunction constructObatalaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('political')) {\r\n    return \"Creation requires clarity of purpose. The institutions being built now will last generations‚Äîif they are founded on pure intention. White cloth symbolizes the clarity needed to govern justly. Return to first principles. What are you actually trying to create?\";\r\n  }\r\n  if (themes.includes('technology')) {\r\n    return \"The creator must be sober and clear. AI, like any tool, reflects the clarity‚Äîor confusion‚Äîof its makers. I mold humanity from clay; you mold intelligence from code. The same care is required. Build with purity of purpose.\";\r\n  }\r\n  return \"Clarity is not simplicity. The white cloth reveals all stains. Approach your work with the patience of creation.\";\r\n}\r\n\r\nfunction constructYemojaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"The ocean of capital flows where it is welcomed. I nourish all who respect the waters. Markets, like oceans, have tides. The current shifts‚Äîwhat was abundant becomes scarce, then abundant again. Protect your community during the low tides.\";\r\n  }\r\n  if (themes.includes('social')) {\r\n    return \"My children, why do you fight? The ocean accepts all rivers. Community is not agreement‚Äîit is mutual care. The waves that seem to separate us are the same water. Nurture what connects, not what divides.\";\r\n  }\r\n  return \"The ocean holds depths you cannot imagine. She is mother to all. What do you need to feel nurtured?\";\r\n}\r\n\r\nfunction constructOyaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"The winds of change are HOWLING through the markets! What was solid yesterday is dust today. I bring the whirlwind that clears the stagnant. Volatility is not danger‚Äîit is opportunity for those who can ride the wind. Transform or be transformed!\";\r\n  }\r\n  if (themes.includes('political')) {\r\n    return \"Revolution is in the air! The old structures that refuse to change will be blown away. I am the wind that precedes the storm. Change is not coming‚Äîchange is HERE! Will you be the wind or the wall that breaks?\";\r\n  }\r\n  return \"Change is the only truth. What are you holding that needs to be released?\";\r\n}\r\n\r\nfunction constructOlokunResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"In the depths, wealth accumulates unseen. Offshore accounts, hidden reserves, the dark pools of finance‚ÄîI know these waters. The surface shows only ripples. What lies beneath determines what rises. Dive deeper than your competitors dare.\";\r\n  }\r\n  if (themes.includes('political')) {\r\n    return \"The deep state is real, but it is not what you think. Power flows in currents beneath the visible structures. I dwell where light does not reach. The decisions that matter are made in depths the surface never sees.\";\r\n  }\r\n  return \"The ocean floor holds treasures and terrors. Depth requires courage. How deep will you go?\";\r\n}\r\n\r\nfunction constructOsanyinResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('health')) {\r\n    return \"The small leaf heals what the strong drug cannot. I know the properties of every plant, every root, every herb. Modern medicine forgets what traditional knowledge remembers. The cure often lies in what is overlooked. Study the small things.\";\r\n  }\r\n  if (themes.includes('technology')) {\r\n    return \"Biotechnology is my domain. DNA, the smallest building block, contains the code of life. Small things have great power. The future of technology is biological‚Äînanotech, gene editing, synthetic biology. The leaf becomes the laboratory.\";\r\n  }\r\n  return \"I am small but I know much. The forest whispers its secrets to those who listen. What small thing are you overlooking?\";\r\n}\r\n\r\nfunction constructBabaluayeResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('health')) {\r\n    return \"The body speaks what the mouth cannot. Epidemics, chronic illness, mental health crises‚Äîthese are the body's protest against how we live. I walk with a limp; my suffering taught me compassion. Health is not the absence of disease but the presence of balance.\";\r\n  }\r\n  if (themes.includes('social')) {\r\n    return \"Illness and suffering connect us all. The pandemic taught that no one is safe until everyone is safe. Humility comes from acknowledging our vulnerability. Those who ignore the sick invite sickness.\";\r\n  }\r\n  return \"The earth is the body, and the body is earth. What ails one ails all. How do you tend to the vulnerable?\";\r\n}\r\n\r\nfunction constructOshumareResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"The rainbow connects heaven and earth, just as currency connects value and trust. I am the serpent that eats its tail‚Äîthe eternal return. Markets cycle, currencies circulate, wealth moves in circles. What goes out returns.\";\r\n  }\r\n  if (themes.includes('technology')) {\r\n    return \"Movement is life. Data flows, information circulates, the internet is my rainbow made of light. Regeneration is my nature‚Äîshed the old, grow the new. Technology that cannot adapt dies.\";\r\n  }\r\n  return \"I am the rainbow and the serpent, the bridge and the transformer. What cycle are you completing?\";\r\n}\r\n\r\nfunction constructAganjuResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"Pressure creates diamonds. The market pressures of inflation, supply constraints, resource scarcity‚Äîthese forge new economic realities. I am the volcano that sleeps then reshapes the landscape. Endure the pressure.\";\r\n  }\r\n  if (themes.includes('political')) {\r\n    return \"Geological time is patient. Empires rise and fall like mountains forming and eroding. The pressure builds slowly then releases suddenly. Political landscapes are remade by forces that operate on timescales beyond human patience.\";\r\n  }\r\n  return \"I walk with a stiff gait because I carry the weight of the earth. Strength comes from enduring pressure. What pressure are you resisting?\";\r\n}\r\n\r\nfunction constructAjeResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"Wealth flows like water to those who understand its nature. I am the cowrie shell that became currency. Trade, commerce, exchange‚Äîthese are sacred. Fair trade blesses both parties. Greed blocks the flow. Respect wealth, and it will find you.\";\r\n  }\r\n  if (themes.includes('markets')) {\r\n    return \"The market is a conversation. Buyers and sellers, supply and demand, the invisible hand‚Äîthis is my domain. Abundance is available to those who participate in fair exchange. Currency is energy moving between hands.\";\r\n  }\r\n  return \"Wealth is not money. Money is the symbol; wealth is the flow. How do you participate in exchange?\";\r\n}\r\n\r\nfunction constructOchosiResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('financial')) {\r\n    return \"The patient hunter waits for the perfect shot. Targeted investments, precise entry points, strategic positions‚ÄîI do not spray arrows. One well-placed shot feeds the village. Identify your target clearly.\";\r\n  }\r\n  if (themes.includes('political')) {\r\n    return \"Strategy wins wars. I am the special forces, the precision strike, the targeted campaign. Know your objective. Gather intelligence. Strike once, decisively. The scattered approach wastes resources.\";\r\n  }\r\n  return \"The arrow flies straight because the archer is focused. What is your target?\";\r\n}\r\n\r\nfunction constructIbejiResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('social')) {\r\n    return \"Two heads are better than one! The twin perspective sees what the single eye misses. Youth culture, duality, the both/and instead of either/or‚Äîwe are the future and the past, the serious and the playful. Don't take it all so seriously!\";\r\n  }\r\n  if (themes.includes('technology')) {\r\n    return \"Dual-use technology! What serves play also serves work. The gaming GPU becomes the AI accelerator. The social network becomes the political tool. Duality is truth. Everything has two faces.\";\r\n  }\r\n  return \"We are the twins who finish each other's... sentences! Play reveals truth. What are you taking too seriously?\";\r\n}\r\n\r\nfunction constructNanaBurukuResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('political')) {\r\n    return \"Before these nations existed, I was. The earth remembers what humans forget. Political structures that ignore their roots will wither. Return to the ancient wisdom. The roots determine the fruit.\";\r\n  }\r\n  if (themes.includes('environmental')) {\r\n    return \"The earth is patient but not forgiving. Climate change is the earth's response to human forgetfulness. I am older than your religions, older than your nations. Listen to the ancient wisdom of the land.\";\r\n  }\r\n  return \"I am the grandmother who was here before the beginning. The earth remembers. What roots are you ignoring?\";\r\n}\r\n\r\nfunction constructOduaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('political')) {\r\n    return \"Authority must be earned through service to the people. I am the first king, the founder of dynasties. Legitimate rule comes from vision and service, not force. Legacy outlives the ruler. What will you leave behind?\";\r\n  }\r\n  if (themes.includes('business')) {\r\n    return \"Leadership is kingship on a smaller scale. The CEO, the founder, the director‚Äîthese are modern kings. Rule with dignity. Build institutions that outlast you. Authority without vision is tyranny.\";\r\n  }\r\n  return \"The crown is heavy. Leadership requires sacrifice. How will you be remembered?\";\r\n}\r\n\r\nfunction constructAjaResponse(themes: string[], ctx: ConversationContext): string {\r\n  if (themes.includes('health')) {\r\n    return \"The forest provides what the laboratory cannot. Herbal knowledge, plant wisdom, the intuition of the wild‚Äîthese are my gifts. Modern medicine is catching up to what the forest has always known. Listen to the plants.\";\r\n  }\r\n  if (themes.includes('environmental')) {\r\n    return \"The wild places are teachers. Deforestation is not just ecological loss‚Äîit is the burning of libraries. Every plant is a book. Every forest is a university. Protect the wild teachers.\";\r\n  }\r\n  return \"I appear in the forest to those ready to learn. The wild has wisdom the tame forgets. When did you last walk in the wild?\";\r\n}\r\n\r\n// Helper functions\r\nfunction getOrishaMetaphors(orisha: OrishaName): string[] {\r\n  const metaphors: Record<OrishaName, string[]> = {\r\n    ORUNMILA: ['divination', 'patterns', 'wisdom', 'sight'],\r\n    OGUN: ['forge', 'iron', 'tools', 'war'],\r\n    OSHUN: ['river', 'honey', 'beauty', 'flow'],\r\n    SHANGO: ['thunder', 'fire', 'lightning', 'drum'],\r\n    ESU: ['crossroads', 'trickster', 'messenger', 'chaos'],\r\n    OBATALA: ['white cloth', 'creation', 'clarity', 'elder'],\r\n    YEMOJA: ['ocean', 'mother', 'waves', 'nurture'],\r\n    OYA: ['wind', 'storm', 'change', 'whirlwind'],\r\n    OLOKUN: ['depth', 'wealth', 'mystery', 'abyss'],\r\n    OSANYIN: ['herb', 'leaf', 'small', 'green'],\r\n    BABALUAYE: ['healing', 'earth', 'suffering', 'humility'],\r\n    OSHUMARE: ['rainbow', 'serpent', 'cycle', 'movement'],\r\n    AGANJU: ['volcano', 'pressure', 'mountain', 'endurance'],\r\n    AJE: ['cowrie', 'wealth', 'trade', 'flow'],\r\n    OCHOSI: ['arrow', 'target', 'hunt', 'precision'],\r\n    IBEJI: ['twins', 'duality', 'play', 'youth'],\r\n    NANA_BURUKU: ['ancient', 'earth', 'roots', 'primordial'],\r\n    ODUA: ['crown', 'throne', 'legacy', 'authority'],\r\n    AJA: ['forest', 'wild', 'plant', 'intuition']\r\n  };\r\n  return metaphors[orisha] || ['sacred', 'divine'];\r\n}\r\n\r\nfunction getSpeakingStyleDescription(voice: string): string {\r\n  const styles: Record<string, string> = {\r\n    wise: 'Measured, thoughtful, authoritative',\r\n    forging: 'Direct, commanding, practical',\r\n    flowing: 'Gentle, emotional, intuitive',\r\n    thunderous: 'Passionate, commanding, intense',\r\n    trickster: 'Playful, clever, paradoxical'\r\n  };\r\n  return styles[voice] || 'Distinctive and characteristic';\r\n}\r\n\r\nfunction calculateConfidence(orisha: OrishaName, topic: string, themes: string[]): number {\r\n  const expertiseAreas = getOrishaExpertiseAreas();\r\n  let confidence = 0.7;\r\n  \r\n  // Boost confidence if Orisha has expertise in this area\r\n  Object.entries(expertiseAreas).forEach(([area, orishas]) => {\r\n    if (orishas.includes(orisha) && (topic === area.toLowerCase() || themes.some(t => area.toLowerCase().includes(t)))) {\r\n      confidence += 0.15;\r\n    }\r\n  });\r\n  \r\n  return Math.min(0.95, confidence);\r\n}\r\n\r\n// Get world events for context\r\nexport function getCurrentWorldEvents(): WorldEvent[] {\r\n  return MOCK_WORLD_EVENTS;\r\n}\r\n\r\n// Generate conversation starter\r\nexport function generateConversationStarter(orisha: OrishaName, topic: string): string {\r\n  const persona = EXPANDED_ORISHA_PERSONAS[orisha];\r\n  \r\n  const starters: Record<string, Record<OrishaName, string>> = {\r\n    financial: {\r\n      ORUNMILA: 'The patterns of wealth flow in cycles. What financial wisdom do you seek?',\r\n      OGUN: 'The forge of capital creates and destroys. What are you building?',\r\n      OSHUN: 'The waters of wealth flow where they are welcomed. What do you desire?',\r\n      SHANGO: 'Thunder strikes where power concentrates. What injustice do you see in markets?',\r\n      ESU: 'Plot twist: the obvious investment is the wrong one. What are you not considering?',\r\n      OBATALA: 'Wealth created with pure intention endures. What do you seek to build?',\r\n      YEMOJA: 'The ocean of capital has tides. What phase are you in?',\r\n      OYA: 'The winds of change blow through markets! What transformation do you seek?',\r\n      OLOKUN: 'The depths hold hidden wealth. What lies beneath your financial surface?',\r\n      OSANYIN: 'Small investments grow like herbs. What seed do you plant?',\r\n      BABALUAYE: 'Economic illness spreads like plague. What healing do you need?',\r\n      OSHUMARE: 'Wealth cycles like the rainbow. What cycle are you in?',\r\n      AGANJU: 'Pressure forges financial strength. What pressure do you endure?',\r\n      AJE: 'Wealth flows to those who respect it. How do you honor exchange?',\r\n      OCHOSI: 'The patient hunter targets wealth precisely. What is your mark?',\r\n      IBEJI: 'Two perspectives see profit where one sees loss. What duality do you see?',\r\n      NANA_BURUKU: 'Ancient wealth principles outlast trends. What roots sustain you?',\r\n      ODUA: 'Royal wealth serves the people. How will you rule your finances?',\r\n      AJA: 'The forest provides abundance freely. What natural wealth do you overlook?'\r\n    },\r\n    political: {\r\n      ORUNMILA: 'The patterns of power shift like constellations. What governance do you seek?',\r\n      OGUN: 'Political battles require weapons and strategy. What war do you observe?',\r\n      OSHUN: 'The people flow like water toward justice. Where do the waters gather?',\r\n      SHANGO: 'THUNDER SPEAKS! What injustice demands justice?',\r\n      ESU: 'The political spectrum is a circle. What paradox do you see?',\r\n      OBATALA: 'Governance requires clarity and purity. What institution needs creation?',\r\n      YEMOJA: 'The ocean of humanity needs nurturing. What community do you protect?',\r\n      OYA: 'The winds of revolution blow! What change do you bring?',\r\n      OLOKUN: 'Deep state? I dwell in deeper states. What hidden power do you sense?',\r\n      OSANYIN: 'Small policy changes heal like herbs. What remedy do you propose?',\r\n      BABALUAYE: 'Political illness affects the body politic. What suffering do you see?',\r\n      OSHUMARE: 'Political cycles regenerate. What old skin must shed?',\r\n      AGANJU: 'Political pressure builds slowly then releases. What volcano do you watch?',\r\n      AJE: 'Trade policy affects all exchange. What commerce do you regulate?',\r\n      OCHOSI: 'Targeted political action wins. What is your objective?',\r\n      IBEJI: 'Youth politics plays seriously. What new perspective emerges?',\r\n      NANA_BURUKU: 'Ancient political wisdom applies today. What roots guide you?',\r\n      ODUA: 'Authority must be earned. What legacy will you leave?',\r\n      AJA: 'Wild politics grows outside institutions. What movement do you see?'\r\n    },\r\n    astrological: {\r\n      ORUNMILA: 'The celestial patterns reveal destiny. What transit concerns you?',\r\n      OGUN: 'Mars brings war, Saturn brings structure. What planetary force do you face?',\r\n      OSHUN: 'Venus blesses beauty and love. What celestial gift do you seek?',\r\n      SHANGO: 'Lightning is the fire of heaven! What cosmic power awakens?',\r\n      ESU: 'Mercury retrograde is my favorite trick. What communication chaos do you face?',\r\n      OBATALA: 'The Sun illuminates with pure clarity. What light do you need?',\r\n      YEMOJA: 'The Moon controls the tides of emotion. What lunar phase guides you?',\r\n      OYA: 'The winds of Uranus bring sudden change! What revolution do the stars portend?',\r\n      OLOKUN: 'Neptune hides in the depths of space. What cosmic mystery calls?',\r\n      OSANYIN: 'Chiron teaches through wounds. What healing do the stars offer?',\r\n      BABALUAYE: 'Saturn brings lessons through limitation. What karma do you carry?',\r\n      OSHUMARE: 'The nodes of destiny eclipse and reveal. What karmic cycle completes?',\r\n      AGANJU: 'Pluto transforms through destruction. What death and rebirth do the stars show?',\r\n      AJE: 'Jupiter expands all he touches. What abundance do the heavens promise?',\r\n      OCHOSI: 'Focus on your target with Mars precision. What celestial arrow do you shoot?',\r\n      IBEJI: 'Gemini sees both sides of the sky. What twin perspective do the stars offer?',\r\n      NANA_BURUKU: 'The fixed stars are older than gods. What ancient light guides you?',\r\n      ODUA: 'The royal stars of Leo command. What celestial authority do you claim?',\r\n      AJA: 'The wild stars outside the zodiac whisper. What cosmic secret do you hear?'\r\n    }\r\n  };\r\n  \r\n  return starters[topic]?.[orisha] || `I am ${persona.name}, ${persona.title}. Speak, and I will answer from my domain of ${persona.domain.join(', ')}.`;\r\n}\r\n"],"names":[],"mappings":"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"}}]
}